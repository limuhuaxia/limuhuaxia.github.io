<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>limuのArknights</title>
  
  
  <link href="https://limuhuaxia.github.io/atom.xml" rel="self"/>
  
  <link href="https://limuhuaxia.github.io/"/>
  <updated>2022-11-17T08:25:19.935Z</updated>
  <id>https://limuhuaxia.github.io/</id>
  
  <author>
    <name>limu</name>
    
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>使用IRXON BT578连接并配置华三交换机</title>
    <link href="https://limuhuaxia.github.io/2022/11/15/%E4%BD%BF%E7%94%A8IRXON-BT578%E8%BF%9E%E6%8E%A5%E5%8D%8E%E4%B8%89%E4%BA%A4%E6%8D%A2%E6%9C%BA/"/>
    <id>https://limuhuaxia.github.io/2022/11/15/%E4%BD%BF%E7%94%A8IRXON-BT578%E8%BF%9E%E6%8E%A5%E5%8D%8E%E4%B8%89%E4%BA%A4%E6%8D%A2%E6%9C%BA/</id>
    <published>2022-11-15T03:10:20.000Z</published>
    <updated>2022-11-17T08:25:19.935Z</updated>
    
    <content type="html"><![CDATA[<h2 id="一、工具介绍"><a href="#一、工具介绍" class="headerlink" title="一、工具介绍"></a>一、工具介绍</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">品牌：IRXON（水木行）</span><br><span class="line">类型：BT578</span><br><span class="line">简介：蓝牙console线</span><br></pre></td></tr></table></figure><h2 id="二、使用介绍"><a href="#二、使用介绍" class="headerlink" title="二、使用介绍"></a>二、使用介绍</h2><blockquote><p>1.在IRXON BT578(水木行：150)上开启蓝牙（正常情况闪烁蓝光）</p></blockquote><img src="../../themes/Butterfly/image/image-20221115145132802.png" alt="image-20221115145132802" style="zoom:50%;" /><blockquote><p>2.打开笔记本电脑检索附近蓝牙,大概就像这样，要输PIN的话水木行默认的是“1234”</p></blockquote><img src="../../themes/Butterfly/image/image-20221115145235176.png" alt="image-20221115145235176" style="zoom:50%;" /><blockquote><p>3.在计算机管理里查看是否出现了蓝牙COM口 </p></blockquote><img src="../../themes/Butterfly/image/image-20221116141718668.png" alt="image-20221116141718668" style="zoom:50%;" /><blockquote><p>4.打开SecureCRT，没有则去官网下载（<a href="https://www.securecrt.net.cn/download.html">下载Securecrt</a>），新增会话Serial，点击下一步，端口选择COM4，波特率根据实际来操作，一般华三交换机波特率为9600，再点击下一步完成即可。</p></blockquote><img src="../../themes/Butterfly/image/image-20221116142952097.png" alt="image-20221116142952097" style="zoom: 25%;" /><img src="../../themes/Butterfly/image/image-20221116143106971.png" alt="image-20221116143106971" style="zoom:50%;" /><blockquote><p>5.将蓝牙COM线的网口插入要配置的华三交换机，双击刚才新建的会话即可对华三交换机进行配置</p></blockquote><h2 id="三、交换机配置"><a href="#三、交换机配置" class="headerlink" title="三、交换机配置"></a>三、交换机配置</h2><blockquote><p>H3C01配置</p></blockquote><blockquote><p>1.重命名和开启远程登录功能</p></blockquote><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;H3C&gt;system-view </span><br><span class="line">[H3C]sysname H3C01</span><br><span class="line">telnet server enable</span><br></pre></td></tr></table></figure><blockquote><p>2.开启dot1x认证，允许未授权用户访问特定地址</p></blockquote><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"> dot1x enable#开启dot1x认证</span><br><span class="line"> dot1x authentication-method eap#认证方式为eap</span><br><span class="line"> dot1x ead-assistant enable#开启EAD快速部署辅助功能</span><br><span class="line"> dot1x ead-assistant url https://127.0.0.1/index.html</span><br><span class="line"> #dot1x url命令用来配置用户HTTP访问的重定向URL，即用户在802.1X认证成功之前，如果使用浏览器访问非Free IP网段的其它网络，设备会将用户访问的URL重定向到已配置的HTTP访问的重定向地址</span><br><span class="line"> 需要注意的是：</span><br><span class="line">·重定向的URL和Free IP必须在同一个网段内，否则无法访问指定的重定向URL；</span><br><span class="line">·用户HTTP访问的重定向URL可多次配置，但仅最后配置的一条有效。</span><br><span class="line"> dot1x timer ead-timeout 100#EAD规则的老化时间，取值范围为1～1440，单位为分钟，默认30。</span><br><span class="line"> dot1x ead-assistant free-ip 97.32.0.29 255.255.255.255#即用户在802.1X认证成功之前可访问的免认证网段。undo dot1x free-ip命令用来删除配置的Free IP。</span><br><span class="line">需要注意的是：</span><br><span class="line">    ·Free IP功能与全局使能MAC认证、端口安全功能互斥；</span><br><span class="line">    ·Free IP功能只在端口接入控制的模式为auto的情况下生效；</span><br><span class="line">    ·Free IP可配置多条，但具体数目与产品型号有关，请以设备的实际情况为准。</span><br></pre></td></tr></table></figure><p><img src="https://zhiliao.h3c.com/uploads/q/20210818/16292566606544.png" alt="img"></p><blockquote><p>3.创建VLAN并命名</p></blockquote><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">vlan 10</span><br><span class="line"> name YeWu</span><br><span class="line">vlan 20</span><br><span class="line"> name BanGong</span><br></pre></td></tr></table></figure><blockquote><p>4.RIP路由配置</p></blockquote><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">rip 1#路由进程</span><br><span class="line"> undo summary     #缺省情况下，RIP-2自动路由聚合功能处于使能状态，如果路由表里的路由子网不连续，则需要取消自动路由聚合功能，使得RIP-2能够向外发布子网路由和主机路由，此处取消自动聚合功能 </span><br><span class="line"> </span><br><span class="line"> version 2#RIP2</span><br><span class="line"> network 192.168.11.0 0.0.0.255</span><br><span class="line"> network 192.168.12.0 0.0.0.255</span><br><span class="line"> network 192.168.20.44 0.0.0.3</span><br><span class="line"> bfd all-interfaces enable#用来在运行当前RIP进程的所有接口上使能BFD功能</span><br><span class="line"> bfd echo-source-ip 123.123.123.123#配置echo报文源IP地址，缺省情况下，未配置echo报文的源IPv4地址。</span><br><span class="line"></span><br></pre></td></tr></table></figure><blockquote><p>5.链路聚合和VLAN配置</p></blockquote><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">interface Bridge-Aggregation1#创建链路聚合端口 1</span><br><span class="line"> port link-type trunk#端口类型为trunk</span><br><span class="line"> undo port trunk permit vlan 1#禁止默认放行的vlan 1</span><br><span class="line"> port trunk permit vlan 10 20#放行valn 10和20</span><br><span class="line">#</span><br><span class="line">interface GigabitEthernet0/49#进入接口模式下</span><br><span class="line"> port link-mode bridge#端口模式在二层的bridge模式，主要用于做二层的互联，VLAN划分或透传。</span><br><span class="line"> port link-type trunk#如上</span><br><span class="line"> undo port trunk permit vlan 1#如上</span><br><span class="line"> port trunk permit vlan 10 20#如上</span><br><span class="line"> port link-aggregation group 1#将此接口加入聚合端口 1</span><br><span class="line">#</span><br><span class="line">interface GigabitEthernet0/50</span><br><span class="line"> port link-mode bridge</span><br><span class="line"> port link-type trunk</span><br><span class="line"> undo port trunk permit vlan 1</span><br><span class="line"> port trunk permit vlan 10 20</span><br><span class="line"> port link-aggregation group 1</span><br></pre></td></tr></table></figure><blockquote><p>6、外网端口配置和时间同步</p></blockquote><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">interface GigabitEthernet0/0</span><br><span class="line"> port link-mode route#说明端口模式在三层的路由模式，可以直接在端口配置IP地址。</span><br><span class="line"> description Connect-to-DianXin#备注端口作用</span><br><span class="line"> ip address 120.240.40.46 255.255.255.252</span><br><span class="line"> rip bfd enable#RIP bfd检测功能开启</span><br><span class="line"> dldp enable#开启dldp功能，即设备链路检测协议，功能是检测链路连接是否正确、链路两端可否正常交互报文</span><br><span class="line">#</span><br><span class="line">ntp-service enable #开启网络时间协议</span><br><span class="line">ntp-service unicast-server 10.112.65.1 source Vlan-interface10#配置VLAN 10接口的IP地址作为NTP报文的源IPv4地址</span><br></pre></td></tr></table></figure><blockquote><p>7.ACL和VRRP</p></blockquote><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">#</span><br><span class="line">acl advanced 3110#创建一个高级ACL</span><br><span class="line"> rule 10 permit ip source 97.1.11.101 0 destination 9.140.47.0 0.0.0.255</span><br><span class="line"> rule 20 permit ip source 97.1.11.187 0 destination 9.140.47.0 0.0.0.255</span><br><span class="line"> rule 40 deny ip destination 9.140.47.0 0.0.0.255</span><br><span class="line"> rule 850 permit ip</span><br><span class="line"> </span><br><span class="line">#</span><br><span class="line">interface Vlan-interface10#进入vlan接口视图下</span><br><span class="line"> description Connect-to-YeWu</span><br><span class="line"> ip address 192.168.11.253 255.255.255.0</span><br><span class="line"> vrrp vrid 10 virtual-ip 192.168.11.254#网关</span><br><span class="line"> vrrp vrid 10 priority 150#优先级，取值范围0～255，数值越大表明优先级越高</span><br><span class="line"> vrrp vrid 10 preempt-mode delay 5#指定设备的抢占延迟时间，整数形式，取值范围是0～3600，单位是秒。缺省值为0秒。</span><br><span class="line"> packet-filter 3110 inbound#在此接口下应用ACL</span><br><span class="line">#               </span><br><span class="line">interface Vlan-interface20</span><br><span class="line"> description Connect-BanGong</span><br><span class="line"> ip address 192.168.22.253 255.255.255.0</span><br><span class="line"> vrrp vrid 20 virtual-ip 192.168.22.254</span><br><span class="line"> vrrp vrid 20 priority 90</span><br><span class="line"> vrrp vrid 20 preempt-mode delay 5</span><br><span class="line"> packet-filter 3110 inbound</span><br></pre></td></tr></table></figure><blockquote><p>8.radius认证和ISP域</p></blockquote><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line">#</span><br><span class="line">radius session-control enable#开启会话控制功能</span><br><span class="line">#</span><br><span class="line">radius scheme imc#创建radius认证方案ims</span><br><span class="line"># 设置radius认证服务器地址（主）</span><br><span class="line"># 设置radius审计服务器地址（主）</span><br><span class="line"># 设置radius认证服务器地址（备）</span><br><span class="line"># 设置radius审计服务器地址（备）</span><br><span class="line"> primary authentication 192.32.0.29</span><br><span class="line"> primary accounting 192.32.0.29</span><br><span class="line"> secondary authentication 192.32.0.30</span><br><span class="line"> secondary accounting 192.32.0.30</span><br><span class="line"> </span><br><span class="line"># 设置交换机与radius认证服务器的通信密码</span><br><span class="line"># 设置交换机与radius审计服务器的通信密码</span><br><span class="line"> key authentication simple Huawei@123</span><br><span class="line"> key accounting simple Huawei@123</span><br><span class="line"> </span><br><span class="line"># 交换机发送给radius服务器的用户名验证不带ISP域 </span><br><span class="line"> user-name-format without-domain</span><br><span class="line"># 实时计费的时间间隔</span><br><span class="line"> timer realtime-accounting 30</span><br><span class="line"># 用来设置设备发送RADIUS报文使用的源IP地址</span><br><span class="line"> nas-ip 192.168.11.253</span><br><span class="line"></span><br><span class="line"># 创建imc ISP域   </span><br><span class="line"># 进入imc域</span><br><span class="line"># 这个域中的所有lan-access用户通过radius方案imc 不进行进行认证</span><br><span class="line"># 这个域中的所有lan-access用户通过radius方案imc 不进行进行审计</span><br><span class="line">domain imc</span><br><span class="line"> authentication lan-access radius-scheme imc none</span><br><span class="line"> authorization lan-access radius-scheme imc none</span><br><span class="line"> accounting lan-access radius-scheme imc none</span><br><span class="line"> </span><br><span class="line"># 进行ISP设置</span><br><span class="line">domain system</span><br><span class="line"># 缺省ISP域，所有登录时没有提供ISP域名的用户都属于这个域</span><br><span class="line">domain default enable imc</span><br><span class="line"></span><br><span class="line"># 添加一个叫做cisco的本地管理员用户</span><br><span class="line">local-user cisco class manage</span><br><span class="line"># 密码为~</span><br><span class="line"> password simple Huawei@123</span><br><span class="line"> </span><br><span class="line"># 指定用户类型为ssh telnet terminal，即用户可以使用的高级功能</span><br><span class="line"> service-type ssh telnet terminal</span><br><span class="line"></span><br><span class="line"># 用来设置当前ISP域下的用户授权属性</span><br><span class="line"># 用户角色为网络管理员</span><br><span class="line"> authorization-attribute user-role network-admin</span><br><span class="line"># 用户角色为网络运营商</span><br><span class="line"> authorization-attribute user-role network-operator</span><br></pre></td></tr></table></figure><blockquote><p>9.其它配置</p></blockquote><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"># 可以对终端控制端口进行参数设置，表示con 0接口拥有管理员权限</span><br><span class="line">line con 0</span><br><span class="line"> authentication-mode scheme</span><br><span class="line"> user-role network-admin</span><br><span class="line"># AAA认证</span><br><span class="line">line vty 0 15</span><br><span class="line"> authentication-mode scheme</span><br><span class="line"># 删除dhcp池</span><br><span class="line">undo dhcp server ip-pool lan1</span><br><span class="line"># 删除vlan 1</span><br><span class="line">undo interface Vlan-interface1</span><br><span class="line"># 3到50口为二层交换口且类型为access，vlan 10</span><br><span class="line">interface range GigabitEthernet0/3 to GigabitEthernet0/48</span><br><span class="line"> port link-mode bridge       </span><br><span class="line"> description ShengChan</span><br><span class="line"> port access vlan 10</span><br></pre></td></tr></table></figure><h2 id="四、锐捷交换机"><a href="#四、锐捷交换机" class="headerlink" title="四、锐捷交换机"></a>四、锐捷交换机</h2><h4 id="配置步骤"><a href="#配置步骤" class="headerlink" title="配置步骤"></a>配置步骤</h4><p>先查看一下网关的原有配置（针对配置过的网关需要修改），使用超级终端连接使用“show run”命令查看当前配置，找到内网的管理地址，我这边的管理地址是192.168.1.1。</p><p><strong>修改电脑IP 默认为192.168.1.123（修改的地址与管理地址在同一网段）；打开浏览器，在地址栏输入<a href="http://192.168.1.1;登陆帐号和密码.默认的帐号和密码都为admin./">http://192.168.1.1；登陆帐号和密码。默认的帐号和密码都为admin。</a></strong></p><p><img src="http://www.isolves.com/d/file/p/2020/04-29/8cd390853ef83f30ae50cc5404821eb8.jpg" alt="非常详细的锐捷网关路由配置教程，适合新手小白"></p><blockquote><p>1、配置网络模式为网关模式</p></blockquote><p><img src="http://www.isolves.com/d/file/p/2020/04-29/51e2e2b274282ad55b9c15cfe203d701.jpg" alt="非常详细的锐捷网关路由配置教程，适合新手小白"></p><blockquote><p>2、内网口设置</p></blockquote><p><img src="http://www.isolves.com/d/file/p/2020/04-29/5d83ae29128c351359b3a5228b930d51.jpg" alt="非常详细的锐捷网关路由配置教程，适合新手小白"></p><blockquote><p>3、外网口设置</p></blockquote><p><img src="http://www.isolves.com/d/file/p/2020/04-29/9361f1db1020182ba049f1097d9f0cbc.jpg" alt="非常详细的锐捷网关路由配置教程，适合新手小白"></p><blockquote><p>4、静态路由设置</p></blockquote><p>在路由/负载中点击普通路由进行静态路由的添加。</p><p><img src="http://www.isolves.com/d/file/p/2020/04-29/b9aa7aed027d8226d96206a4867372b2.jpg" alt="非常详细的锐捷网关路由配置教程，适合新手小白"></p><blockquote><p>5、选择“普通路由”，然后新建静态路由</p></blockquote><p><img src="http://www.isolves.com/d/file/p/2020/04-29/4a8004504e49bc8d46c5dd4f1cdf493d.jpg" alt="非常详细的锐捷网关路由配置教程，适合新手小白"></p><blockquote><p>6、在新建静态路由页面，依次填写 目的网段、目的网段掩码、路由出接口、吓一跳地址、路由选路</p></blockquote><p><img src="http://www.isolves.com/d/file/p/2020/04-29/e1cc1314f8d9b7d2d74116ae32d13174.jpg" alt="非常详细的锐捷网关路由配置教程，适合新手小白"></p><p>转载至：<a href="https://www.isolves.com/it/wl/sz/2020-04-29/16720.html">https://www.isolves.com/it/wl/sz/2020-04-29/16720.html</a></p><p>非常感谢！</p>]]></content>
    
    
    <summary type="html">交换机实际配置和上网</summary>
    
    
    
    <category term="网络" scheme="https://limuhuaxia.github.io/categories/%E7%BD%91%E7%BB%9C/"/>
    
    
    <category term="实习" scheme="https://limuhuaxia.github.io/tags/%E5%AE%9E%E4%B9%A0/"/>
    
    <category term="网络工程师" scheme="https://limuhuaxia.github.io/tags/%E7%BD%91%E7%BB%9C%E5%B7%A5%E7%A8%8B%E5%B8%88/"/>
    
  </entry>
  
  <entry>
    <title>浪潮服务器NF5270M4</title>
    <link href="https://limuhuaxia.github.io/2022/11/14/%E6%B5%AA%E6%BD%AE%E6%9C%8D%E5%8A%A1%E5%99%A8/"/>
    <id>https://limuhuaxia.github.io/2022/11/14/%E6%B5%AA%E6%BD%AE%E6%9C%8D%E5%8A%A1%E5%99%A8/</id>
    <published>2022-11-14T02:29:34.000Z</published>
    <updated>2022-11-17T08:26:21.500Z</updated>
    
    <content type="html"><![CDATA[<h2 id="一、产品规格介绍"><a href="#一、产品规格介绍" class="headerlink" title="一、产品规格介绍"></a>一、产品规格介绍</h2><h3 id="1-1-简介"><a href="#1-1-简介" class="headerlink" title="1.1 简介"></a>1.1 简介</h3><p>本机型是一款完全自主研发的服务器产品。采用 Intel Grantley-EP 平台，使</p><p>用 Wellsburg 芯 片 组。 支 持 两 颗 主 流 英 特 尔 至 强 E5-26XX V4（ 或 E5-26XX </p><p>V3） 系 列 处 理 器。 支 持 20 DIMM DDR4 内 存， 最 大 支 持 2133MHz。 支 持 ECC </p><p>Registered 及多种高级内存冗余功能。最大支持 2.5×29 块 SAS/SATA/SSD 热插拔硬</p><p>盘或者 3.5×12 块 SAS/SATA/SSD 热插拔硬盘。主板集成高性能千兆网卡，支持网络</p><p>高级特性。主板集成 BMC/KVM 芯片。7 个可用的 PCI-Express 扩展槽。</p><p>支持 SAS 3.0（12Gb/s）的 SAS 或者 SAS RAID 卡，实现灵活的 SAS/SAS RAID</p><p>解决方案。结构、存储、PCI 扩展、电源、风扇等部件模块化设计。节能降噪设计，</p><p>配置高效率 PMbus 电源，支持 DPNM 功能，实现节能降耗。</p><h3 id="1-2-特性和规格"><a href="#1-2-特性和规格" class="headerlink" title="1.2 特性和规格"></a>1.2 特性和规格</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"># 处理器</span><br><span class="line">处理器类型：Intel 双路 E5-26xx V4( 或 Xeon E5-26xx V3) 系列 ( 最高支持两颗 145W)</span><br><span class="line">接口：两个Socket-R3 插槽</span><br><span class="line"># 芯片组</span><br><span class="line">芯片组类型：PCH C610（Wellsburg）</span><br><span class="line"># 内存</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="1-3-前面板"><a href="#1-3-前面板" class="headerlink" title="1.3 前面板"></a>1.3 前面板</h3><h3 id="1-4-后面板"><a href="#1-4-后面板" class="headerlink" title="1.4 后面板"></a>1.4 后面板</h3><h3 id="1-5-主板布局"><a href="#1-5-主板布局" class="headerlink" title="1.5 主板布局"></a>1.5 主板布局</h3><h3 id="1-6-主板跳线介绍"><a href="#1-6-主板跳线介绍" class="headerlink" title="1.6 主板跳线介绍"></a>1.6 主板跳线介绍</h3><h2 id="二、BIOS设置"><a href="#二、BIOS设置" class="headerlink" title="二、BIOS设置"></a>二、BIOS设置</h2><h2 id="三、BMC设置"><a href="#三、BMC设置" class="headerlink" title="三、BMC设置"></a>三、BMC设置</h2><h2 id="四、硬件维护"><a href="#四、硬件维护" class="headerlink" title="四、硬件维护"></a>四、硬件维护</h2><h2 id="五、常见故障及诊断排除"><a href="#五、常见故障及诊断排除" class="headerlink" title="五、常见故障及诊断排除"></a>五、常见故障及诊断排除</h2>]]></content>
    
    
    <summary type="html">服务器基础知识</summary>
    
    
    
    <category term="服务器" scheme="https://limuhuaxia.github.io/categories/%E6%9C%8D%E5%8A%A1%E5%99%A8/"/>
    
    
    <category term="实习" scheme="https://limuhuaxia.github.io/tags/%E5%AE%9E%E4%B9%A0/"/>
    
    <category term="网络工程师" scheme="https://limuhuaxia.github.io/tags/%E7%BD%91%E7%BB%9C%E5%B7%A5%E7%A8%8B%E5%B8%88/"/>
    
  </entry>
  
  <entry>
    <title>华为云桌面运维</title>
    <link href="https://limuhuaxia.github.io/2022/11/09/%E5%8D%8E%E4%B8%BA%E4%BA%91%E6%A1%8C%E9%9D%A2%E8%BF%90%E7%BB%B4/"/>
    <id>https://limuhuaxia.github.io/2022/11/09/%E5%8D%8E%E4%B8%BA%E4%BA%91%E6%A1%8C%E9%9D%A2%E8%BF%90%E7%BB%B4/</id>
    <published>2022-11-08T16:00:00.000Z</published>
    <updated>2022-11-10T08:35:12.584Z</updated>
    
    <content type="html"><![CDATA[<h2 id="一、工作情况"><a href="#一、工作情况" class="headerlink" title="一、工作情况"></a>一、工作情况</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">时间：11月7日-11月8日</span><br><span class="line">地点：某大学图书馆</span><br><span class="line">情况：对400+云桌面终端进行运维</span><br></pre></td></tr></table></figure><h2 id="二、工作准备"><a href="#二、工作准备" class="headerlink" title="二、工作准备"></a>二、工作准备</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">1.客户给予的网络拓扑和资产信息</span><br><span class="line">2.云桌面的账号密码，服务器的名称、地址、域，汇聚交换机的账号密码</span><br><span class="line">3.准备好工具，比如网线、网线钳、剥皮钳、水晶头、测线仪、寻线仪。。。。（如果客户现场有就可以省略）</span><br><span class="line">4.因为在外地出差，准备好24小时核酸检测，身份证</span><br></pre></td></tr></table></figure><h2 id="三、现场工作"><a href="#三、现场工作" class="headerlink" title="三、现场工作"></a>三、现场工作</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><span class="line"># 遇到的问题</span><br><span class="line">简单级</span><br><span class="line">1.云桌面未加域</span><br><span class="line"># 解决办法：根据客户提供的账号密码对云桌面终端进行上线</span><br><span class="line">2.云桌面终端插头松动</span><br><span class="line"># 解决办法：仔细检查插头是否松动，重新拔插即可</span><br><span class="line">3.交换机电源松动</span><br><span class="line"># 现场发现客户使用的是五口的工业交换机（第一次见这么小的交换机）的电源显示屏不亮。</span><br><span class="line"># 解决办法：拔插测试，还不亮就是电源插座没电或者交换机坏了</span><br><span class="line"></span><br><span class="line">普通级</span><br><span class="line">1.云桌面显示网卡断开</span><br><span class="line">#描述：显示网卡断开的原因有很多种，可能是网线松动，也有可能是网线接口没有插入交换机；如果同一交换机连接的桌面都显示断开，那么就是交换机出现故障；如果是单独某一台桌面断开网络，就是网线松动、或者网线报废，接口处松掉了。</span><br><span class="line">解决办法：检查网线（测线仪、拔插测试，接口）</span><br><span class="line">2.交换机接口电源不亮</span><br><span class="line"># 这种一般是网线松动，拔插重试即可，也可以拔好的桌面的网线对比</span><br><span class="line">3.显示屏绿屏</span><br><span class="line"># HDMI接口的问题，可能是松掉了，也有可能是HDMI接口坏掉了（拿好的对比一下）</span><br><span class="line">4.云桌面密码错误</span><br><span class="line"># 配置问题，联系管理员重新配置即可，很好解决（如果你有AD服务器的管理员账号的话也可以自己设置）</span><br><span class="line"></span><br><span class="line">困难级</span><br><span class="line">1.关键位置的（埋在线管里的）网线被人为（恶意或无意）剪断</span><br><span class="line">#描述：当我遇到这件事的时候人是懵的，网线很直接的被剪成两段。。。。。。</span><br><span class="line">#解决办法：把网线用剥皮钳“抽丝”，也可以手动剥皮，按照颜色一一缠绕起来，每一组都用电工胶带隔开（防止短路），看着很简单但是由于网线的位置狭隘，人无法伸展开来，很难受，费了很大劲。</span><br><span class="line">### 按理来说做到以上步骤把网线插回去就完成了，可以在实际测试中绿线始终不通（使用测线仪），重新做水晶头也没用，很有可能是绿线在某处断了，于是没办法，老大哥把网线的线序6和线序8对调（568-b），然后就好了，当时我心想还有这种操作，后来查阅资料才知道这是有一定的理论依据的，如下：</span><br><span class="line">    1 输出数据 (+)</span><br><span class="line">    2 输出数据 (-)</span><br><span class="line">    3 输入数据 (+)</span><br><span class="line">    4 保留为电话使用</span><br><span class="line">    5 保留为电话使用</span><br><span class="line">    6 输入数据 (-)</span><br><span class="line">    7 保留为电话使用</span><br><span class="line">    8 保留为电话使用</span><br><span class="line">8根芯线，目前百兆网络中，实际上只用到了4根，即第1、第2、第3、第6，它们分别起着收、发信号的作用。于是有了的4芯网线的制作，也可以叫做1-3、2-6交叉接法，这种交叉网线的芯线排列规则是:网线一端的第1脚连另一端的第3脚，网线一端的第2脚连另一端的第6脚，其他脚一一对应即可，多余的4根线抛开不用。</span><br><span class="line">PS：网线两端线序要保持一致，不能只顾一头</span><br><span class="line"></span><br><span class="line">2.交换机接口未接上</span><br><span class="line"># 描述：这里说的交换机实际是汇聚交换机，是华为的盒式交换机，在机房里，说麻烦是因为要找管理员要钥匙，而且实际情况中存在一些接口被拔出，当时用了小半天测试具体是哪根网线</span><br><span class="line"># 解决办法：用测线仪慢慢测试</span><br><span class="line"></span><br><span class="line">3.未知位置的网线损坏或报废</span><br><span class="line"># 描述：终端没问题，交换机没问题，经检查发现线槽中的网线有问题</span><br><span class="line"># 解决办法：重新做水晶头或换网线</span><br><span class="line"></span><br><span class="line">4.网线插座里的线损坏</span><br><span class="line"># 描述：对的，没想网线插座（类似那种墙上的网线口）也会坏。</span><br><span class="line"># 解决办法：拨开壳子，用测线仪测试，把线槽中的不通的线剥皮，在压一遍</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">###解决不了的问题（能力范畴之外）</span><br><span class="line">1.插座没电，记下来，找电工</span><br><span class="line">2.显示器白屏，或明显外伤损坏，返厂维修或者重新买</span><br><span class="line">3.HDMI接头损坏，重新购买</span><br></pre></td></tr></table></figure><h2 id="四、经验总结"><a href="#四、经验总结" class="headerlink" title="四、经验总结"></a>四、经验总结</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">1.还是要多学习，多请教经验丰富的人</span><br><span class="line">2.很多项目在实现之后配置基本不变，逻辑上的问题很少出错，一般都是硬件层面的问题</span><br><span class="line">3.现场的情况永远超出你的想象</span><br><span class="line">4.再好的东西不珍惜也维系不了多久</span><br><span class="line">5.只有有能力的人才会得到别人的尊敬</span><br><span class="line">6.火车票一定要记得打印票据！！！</span><br><span class="line">7.出门在外要注意安全，疫情什么的碰到就很麻烦</span><br></pre></td></tr></table></figure>]]></content>
    
    
    <summary type="html">简单的桌面云运维</summary>
    
    
    
    <category term="云计算" scheme="https://limuhuaxia.github.io/categories/%E4%BA%91%E8%AE%A1%E7%AE%97/"/>
    
    
    <category term="实习" scheme="https://limuhuaxia.github.io/tags/%E5%AE%9E%E4%B9%A0/"/>
    
    <category term="网络工程师" scheme="https://limuhuaxia.github.io/tags/%E7%BD%91%E7%BB%9C%E5%B7%A5%E7%A8%8B%E5%B8%88/"/>
    
    <category term="云计算" scheme="https://limuhuaxia.github.io/tags/%E4%BA%91%E8%AE%A1%E7%AE%97/"/>
    
  </entry>
  
  <entry>
    <title>记一次调试AP</title>
    <link href="https://limuhuaxia.github.io/2022/11/09/%E8%AE%B0%E4%B8%80%E6%AC%A1%E8%B0%83%E8%AF%95AP/"/>
    <id>https://limuhuaxia.github.io/2022/11/09/%E8%AE%B0%E4%B8%80%E6%AC%A1%E8%B0%83%E8%AF%95AP/</id>
    <published>2022-11-08T16:00:00.000Z</published>
    <updated>2022-11-10T08:59:53.652Z</updated>
    
    <content type="html"><![CDATA[<h2 id="一、工作情况"><a href="#一、工作情况" class="headerlink" title="一、工作情况"></a>一、工作情况</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">时间：11月3日14:00</span><br><span class="line">地点：某智能汽车产业创新中心</span><br><span class="line">情况：网络不稳定</span><br></pre></td></tr></table></figure><h2 id="二、现场排查"><a href="#二、现场排查" class="headerlink" title="二、现场排查"></a>二、现场排查</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">事前准备：查阅客户给的产品资料和网络拓扑图</span><br><span class="line">现场勘察：</span><br><span class="line">### 登录上AP管理界面发现4个AP都在线，其中有一个AP版本只有1.1.5（其它为1.1.7）</span><br><span class="line">### 观察一段时间后发现AP总在两个AP之间不断跳动，且大多数AP都只在一个AP上</span><br><span class="line">原因分析：信道干扰，漫游灵敏 ，信号争抢</span><br></pre></td></tr></table></figure><h2 id="三、故障解决"><a href="#三、故障解决" class="headerlink" title="三、故障解决"></a>三、故障解决</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">1. 首先对版本落后的AP进行升级</span><br><span class="line">##这是AP的官网升级包下载地址：https://resource.tp-link.com.cn/pc/docCenter/showDoc?source=detail&amp;productId=945&amp;type=UPGRADE_SOFT&amp;id=1634201977213219</span><br><span class="line"># 升级方式</span><br><span class="line">##解压缩软件包，将后缀名为.bin的文件导入即可</span><br><span class="line">PS：AP升级会导致 AP 下线几分钟，等待AP升级完成重新上线即可</span><br><span class="line">2. 对AP参数进行调试</span><br><span class="line">## 信道：相互之间隔开，例如1-3-5-7或2-4-6-8</span><br><span class="line">## 信号强度：对于物理位置离得近的AP信号更改为“中”</span><br><span class="line">## 下线：对于信号小于-60的连接设备进行下线操作（单位dm，越靠近0信号越强，反之就弱）</span><br></pre></td></tr></table></figure><h2 id="四、信号测试"><a href="#四、信号测试" class="headerlink" title="四、信号测试"></a>四、信号测试</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">## 对AP进行漫游测试，设备不再集中在一个AP上</span><br><span class="line">## 遵循“就近原则”</span><br><span class="line">## AP不再频繁切换</span><br></pre></td></tr></table></figure><h2 id="五、总结"><a href="#五、总结" class="headerlink" title="五、总结"></a>五、总结</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">因为信号强度高的两台AP设备里的太近，而设备会连接最优的那一台AP，导致设备集中在一台AP上，而同时负载多台设备连接的AP不再是“最优的”，设备又会去连接当时最优的AP，导致网络动荡。</span><br></pre></td></tr></table></figure>]]></content>
    
    
    <summary type="html">简单的AP调试</summary>
    
    
    
    <category term="网络" scheme="https://limuhuaxia.github.io/categories/%E7%BD%91%E7%BB%9C/"/>
    
    
    <category term="实习" scheme="https://limuhuaxia.github.io/tags/%E5%AE%9E%E4%B9%A0/"/>
    
    <category term="网络工程师" scheme="https://limuhuaxia.github.io/tags/%E7%BD%91%E7%BB%9C%E5%B7%A5%E7%A8%8B%E5%B8%88/"/>
    
  </entry>
  
  <entry>
    <title>网工经验</title>
    <link href="https://limuhuaxia.github.io/2022/10/27/%E7%BD%91%E5%B7%A5%E7%BB%8F%E9%AA%8C/"/>
    <id>https://limuhuaxia.github.io/2022/10/27/%E7%BD%91%E5%B7%A5%E7%BB%8F%E9%AA%8C/</id>
    <published>2022-10-27T02:49:01.209Z</published>
    <updated>2022-11-10T08:58:04.059Z</updated>
    
    <content type="html"><![CDATA[<h1 id="华三交换机常用命令"><a href="#华三交换机常用命令" class="headerlink" title="华三交换机常用命令"></a>华三交换机常用命令</h1><h2 id="一、常用查看命令"><a href="#一、常用查看命令" class="headerlink" title="一、常用查看命令"></a>一、常用查看命令</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"># 基本配置</span><br><span class="line">H3C&gt;                      //用户直行模式提示符,用户视图 </span><br><span class="line">&lt;H3C&gt;system-view          //进入配置视图 </span><br><span class="line">[H3C] sysname xxx         //设置主机名成为xxx这里使用修改特权用户密码</span><br><span class="line">[H3C]interface ethernet 0/1                                    //进入接口视图</span><br><span class="line">[H3C]system-view                                               //进入系统视图</span><br><span class="line">[H3C]interface vlan x                                          //进入接口视图</span><br><span class="line"></span><br><span class="line"># 查看配置</span><br><span class="line">[H3C]dis cur                                  　　　　　　//显示当前配置</span><br><span class="line">[H3C]display current-configuration            　　   //显示当前配置</span><br><span class="line">[H3C]display interfaces                       　　　　　  //显示接口信息</span><br><span class="line">[H3C]display vlan all                         　　　　　　//显示路由信息</span><br><span class="line">[H3C]display version                          　　　　　  //显示版本信息</span><br><span class="line"></span><br><span class="line">[H3C]super password                                       //修改特权用户密码</span><br><span class="line">[H3C-Vlan-interfacex]ip address 10.65.1.1 255.255.0.0     //配置VLAN的IP地址</span><br><span class="line">[H3C]ip route-static 0.0.0.0 0.0.0.0 10.65.1.2            //静态路由＝网关</span><br><span class="line">[H3C]ip route add -p 10.9.0.0  mask 255.255.0.0 10.5.31.93 //永久路由＝网关</span><br><span class="line">[H3C]ip route delete 10.9.0.0                              //删除永久路由＝网关</span><br><span class="line"></span><br><span class="line">[Quidway]rip                                               //三层交换支持</span><br></pre></td></tr></table></figure><h2 id="二、用户设置命令"><a href="#二、用户设置命令" class="headerlink" title="二、用户设置命令"></a>二、用户设置命令</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">&lt;H3C&gt;system-view</span><br><span class="line">[H3C]super pass wordH3C         //设置用户分级密码</span><br><span class="line">[H3C]undo super password         //删除用户分级密码</span><br><span class="line">[H3C]local user bigheap 123456 1    //Web网管用户设置,1（缺省）为管理级用户,缺省admin,admin</span><br><span class="line">[H3C]undo local user bigheap        //删除Web网管用户</span><br><span class="line">[H3C]user-interface aux0         //只支持0</span><br><span class="line">[H3C-Aux]idle-timeout 250        //设置超时为2分50秒,若为0则表示不超时,默认为5分钟</span><br><span class="line">[H3C-Aux]undoidle-timeout         //恢复默认值</span><br><span class="line">[H3C]user-interface vty 0 4        //只支持0到4</span><br><span class="line">[H3C-vty]idle-timeout 250         </span><br><span class="line">//设置超时为2分50秒,若为0则表示不超时,默认为5分钟</span><br><span class="line">[H3C-vty]undoidle-timeout         //恢复默认值</span><br><span class="line">[H3C-vty]set authentication password123456         //设置telnet密码,必须设置</span><br><span class="line">[H3C-vty]undo set authenticationpassword         //取消密码</span><br><span class="line">[H3C]displayusers         //显示用户</span><br><span class="line">[H3C]displayuser-interface         //用户界面状态</span><br></pre></td></tr></table></figure><h2 id="三、端口配置命令"><a href="#三、端口配置命令" class="headerlink" title="三、端口配置命令"></a>三、端口配置命令</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">[Quidway]interface ethernet 0/1                                  ；进入端口模式</span><br><span class="line">[Quidway]int e0/1                                                ；进入端口模式</span><br><span class="line">[Quidway-Ethernet0/1]duplex &#123;half|full|auto&#125;                  ；配置端口工作状态</span><br><span class="line">[Quidway-Ethernet0/1]speed &#123;10|100|auto&#125;                     ；配置端口工作速率</span><br><span class="line">[Quidway-Ethernet0/1]flow-control                                   ；配置端口流控</span><br><span class="line">[Quidway-Ethernet0/1]mdi &#123;across|auto|normal&#125;                 ；配置端口平接扭接</span><br><span class="line">[Quidway-Ethernet0/1]port link-type &#123;trunk|access|hybrid&#125;     ；设置端口工作模式</span><br><span class="line">[Quidway-Ethernet0/1]port access vlan 3                   　　　　　；当前端口加入到VLAN</span><br><span class="line">[Quidway-Ethernet0/2]port trunk permit vlan &#123;ID|All&#125;      　　     ；设trunk允许的VLAN</span><br><span class="line">[Quidway-Ethernet0/3]port trunk pvid vlan 3     　　　　　       ；设置trunk端口的PVID</span><br><span class="line">[Quidway-Ethernet0/1]undo shutdown                               ；激活端口</span><br><span class="line">[Quidway-Ethernet0/1]shutdown                                    ；关闭端口</span><br><span class="line">[Quidway-Ethernet0/1]quit                                         ；返回</span><br></pre></td></tr></table></figure><h2 id="四、创建及描述vlan"><a href="#四、创建及描述vlan" class="headerlink" title="四、创建及描述vlan"></a>四、创建及描述vlan</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">[Quidway]vlan 3                                          ；创建VLAN</span><br><span class="line"></span><br><span class="line">[Quidway-vlan3]port ethernet 0/1 　　　　　　　　   　　　　；在VLAN中增加端口</span><br><span class="line"></span><br><span class="line">[Quidway-vlan3]port e0/1    　　　　　                            ；简写方式</span><br><span class="line"></span><br><span class="line">[Quidway-vlan3]port ethernet 0/1 to ethernet 0/4    　　　　　  ；在VLAN中增加端口</span><br><span class="line"></span><br><span class="line">[Quidway-vlan3]port e0/1 to e0/4    　　　　　                           ；简写方式</span><br><span class="line"></span><br><span class="line">[Quidway]description string                         　　　　　             ；指定VLAN描述字符</span><br><span class="line"></span><br><span class="line">[Quidway]description                           　　　　　　 　            ；删除VLAN描述字符</span><br><span class="line"></span><br><span class="line">[Quidway]display vlan [vlan_id]                                           ；查看VLAN设置</span><br></pre></td></tr></table></figure><h2 id="五、配置镜像"><a href="#五、配置镜像" class="headerlink" title="五、配置镜像"></a>五、配置镜像</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[Quidway]monitor-port &lt;interface_type interface_num&gt;        　；指定镜像端口</span><br><span class="line"></span><br><span class="line">[Quidway]port mirror &lt;interface_type interface_num&gt;       　　；指定被镜像端口</span><br><span class="line"></span><br><span class="line">[Quidway]port mirror int_list observing-port int_type int_num ；指定镜像和被镜像</span><br></pre></td></tr></table></figure><h2 id="六、树协议及端口聚合"><a href="#六、树协议及端口聚合" class="headerlink" title="六、树协议及端口聚合"></a>六、树协议及端口聚合</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">[Quidway]stp &#123;enable|disable&#125;                                                   ；设置生成树,默认关闭</span><br><span class="line"></span><br><span class="line">[Quidway]stp priority 4096                          　　　　　            ；设置交换机的优先级</span><br><span class="line"></span><br><span class="line">[Quidway]stp root &#123;primary|secondary&#125;               　　　　　    ；设置为根或根的备份</span><br><span class="line"></span><br><span class="line">[Quidway-Ethernet0/1]stp cost 200                   　　　　　     ；设置交换机端口的花费</span><br><span class="line"></span><br><span class="line">[Quidway]link-aggregation e0/1 to e0/4 ingress|both               ;　端口的聚合</span><br><span class="line"></span><br><span class="line">[Quidway]undo link-aggregation e0/1|all                                   ;  始端口为通道号</span><br></pre></td></tr></table></figure><h2 id="七、设置主vlan及设置pvid"><a href="#七、设置主vlan及设置pvid" class="headerlink" title="七、设置主vlan及设置pvid"></a>七、设置主vlan及设置pvid</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">[SwitchA-vlanx]isolate-user-vlan enable             　　　　　；设置主vlan</span><br><span class="line"></span><br><span class="line">[SwitchA]isolate-user-vlan &lt;x&gt; secondary &lt;list&gt;     　　　　　；设置主vlan包括的子vlan</span><br><span class="line"></span><br><span class="line">[Quidway-Ethernet0/2]port hybrid pvid vlan &lt;id&gt;     　　　　　；设置vlan的pvid</span><br><span class="line"></span><br><span class="line">[Quidway-Ethernet0/2]port hybrid pvid               　　　　　；删除vlan的pvid</span><br><span class="line"></span><br><span class="line">[Quidway-Ethernet0/2]port hybrid vlan vlan_id_list untagged 　；设置无标识的vlan</span><br><span class="line"></span><br><span class="line">如果包的vlan id与PVId一致，则去掉vlan信所以设置PVID为所属vlan id, 设置可以互通的vlan为untagged.息. 默认PVID=1。</span><br></pre></td></tr></table></figure><h1 id="常用配置"><a href="#常用配置" class="headerlink" title="常用配置"></a>常用配置</h1><h2 id="一、web网管界面"><a href="#一、web网管界面" class="headerlink" title="一、web网管界面"></a>一、web网管界面</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">[SW1]ip http enable</span><br><span class="line">[SW1]ip https enable</span><br><span class="line">[SW1]local-user user //新建用户user</span><br><span class="line">[SW1-luser-manage-user]password simple user123 //创建用户密码user123</span><br><span class="line">[SW1-luser-manage-user]authorization-attribute user-role network-admin //用户级别为network-admin管理员级别</span><br><span class="line">[SW1-luser-manage-user]service-type http https //服务类型为http和https</span><br></pre></td></tr></table></figure><h2 id="二、端口镜像"><a href="#二、端口镜像" class="headerlink" title="二、端口镜像"></a>二、端口镜像</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"># 华三交换机</span><br><span class="line">#查看镜像组1</span><br><span class="line">dis mirroring-group 1</span><br><span class="line">#新建镜像组1</span><br><span class="line">mirroring-group 1 local</span><br><span class="line">#配置被监控端口，可配置多个。both代表进出都监控。inbound代表监控入，outbound代表监控出</span><br><span class="line">mirroring-group 1 mirroring-port Ten-GigabitEthernet 1/0/19 both</span><br><span class="line">#配置监控端口，一般该端口直连PC，直接打开wireshark抓取PC网口，就可以抓到上述被监控端口的包</span><br><span class="line">mirroring-group 1 monitor-port Ten-GigabitEthernet 1/0/21</span><br><span class="line"></span><br><span class="line"># 锐捷交换机</span><br><span class="line">Ruijie&gt;enable </span><br><span class="line">Ruijie#configure terminal</span><br><span class="line">Ruijie(config)#monitor session 1 source interface gigabitEthernet 0/1 rx  ------&gt;指定镜像会话1的源数据是第1个千兆端口收到的数据</span><br><span class="line">Ruijie(config)#monitor session 2 source interface gigabitEthernet 0/4，0/5  ------&gt;指定镜像会话2的源数据是第4、5个千兆端口收发全部的数据</span><br><span class="line">指定监控端口：</span><br><span class="line">Ruijie(config)#monitor session 1 destination interface gigabitEthernet 0/2 switch     ------&gt;指定镜像会话1的目的端口是第2个千兆端口，并保证这个端口可以和其他端口正常通信</span><br><span class="line">Ruijie(config)#monitor session 2 destination interface gigabitEthernet 0/3  ------&gt;指定镜像会话2的源数据是第3个千兆端口，并指定该端口只能用于接收镜像的数据</span><br><span class="line"></span><br><span class="line">保存配置</span><br><span class="line">Ruijie(config)#end</span><br><span class="line">Ruijie#write    ------&gt;确认配置正确，保存配置</span><br><span class="line"></span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;华三交换机常用命令&quot;&gt;&lt;a href=&quot;#华三交换机常用命令&quot; class=&quot;headerlink&quot; title=&quot;华三交换机常用命令&quot;&gt;&lt;/a&gt;华三交换机常用命令&lt;/h1&gt;&lt;h2 id=&quot;一、常用查看命令&quot;&gt;&lt;a href=&quot;#一、常用查看命令&quot; class=&quot;</summary>
      
    
    
    
    
  </entry>
  
  <entry>
    <title>存储基础知识</title>
    <link href="https://limuhuaxia.github.io/2022/10/12/20221012-%E5%AD%98%E5%82%A8%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/"/>
    <id>https://limuhuaxia.github.io/2022/10/12/20221012-%E5%AD%98%E5%82%A8%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/</id>
    <published>2022-10-11T16:00:00.000Z</published>
    <updated>2022-11-10T08:57:11.735Z</updated>
    
    <content type="html"><![CDATA[<h4 id="存储网络的存储架构"><a href="#存储网络的存储架构" class="headerlink" title="存储网络的存储架构"></a>存储网络的存储架构</h4><ul><li>DAS：直接附加存储   （Direct Attached Storage）</li><li>SAN：存储区域网络    (Storage Area Network)</li><li>NAS：网络附加存储   （Networks Attached Storage）</li></ul><h4 id="主要接口协议"><a href="#主要接口协议" class="headerlink" title="主要接口协议"></a>主要接口协议</h4><ul><li>SCSI：小型计算机系统接口（Small Computer System Interface），主流SCSI-3，最高数据传输率640MBps。</li><li>FC：光纤通信，用于计算机设备之间数据传输，传输率达到4Gb/8Gb/16Gb，光纤通道用于  服务器共享存储设备的连接，存储控制器和驱动器之间的内部连接。</li><li>iSCSI（互联网小型计算机系统接口）是一种在TCP/IP上进行数据块传输的标准。     iSCSI继承了两大最传统技术：SCSI和TCP/IP协议。</li></ul><h4 id="RAID技术"><a href="#RAID技术" class="headerlink" title="RAID技术"></a>RAID技术</h4><table><thead><tr><th><strong>RAID 0</strong></th><th>数据条带化，无校验</th></tr></thead><tbody><tr><td><strong>RAID 1</strong></td><td>数据镜像，无校验</td></tr><tr><td><strong>RAID 2</strong></td><td>海明码错误校验及校正（不常用）</td></tr><tr><td><strong>RAID 3</strong></td><td>数据条带化读写，校验信息存放于专用盘（不常用）</td></tr><tr><td><strong>RAID 4</strong></td><td>单次写数据采用单个硬盘，专用盘存放校验数据（不常用）</td></tr><tr><td><strong>RAID 5</strong></td><td>数据条带化，校验信息分布式存放</td></tr><tr><td><strong>RAID 6</strong></td><td>数据条带化，分布式校验并提供两级冗余</td></tr></tbody></table><h4 id="RAID级别"><a href="#RAID级别" class="headerlink" title="RAID级别"></a>RAID级别</h4><ul><li>RAID 0，条带化。高可用，高读写，无冗余</li><li>RAID 1，镜像。50%空间利用率，高安全，数据写入效率有影响</li><li>RAID 3，1块盘做校验，其余盘做数据，写效率较低</li><li>RAID 5，数据校验信息均匀分散在每个盘上，解决并发写入时的瓶颈    </li><li>RAID 6，2级冗余，支持数据的恢复和校验的恢复，代价高</li><li>RAID 10 (RAID 0+1)，先镜像后条带化，50%利用率，解决读写和冗余</li><li>RAID 50，更高的容错，更快数据读取速率，磁盘故障影响吞吐量，重建时间较长</li></ul><h4 id="RPO与RTO"><a href="#RPO与RTO" class="headerlink" title="RPO与RTO"></a>RPO与RTO</h4><ul><li><p>RTO (恢复时间目标) — 在业务中断后的某一个时间点，业务的进程或应用服务必须恢复，确保业务正常进行（你能接受多长的宕机时间）</p></li><li><p>RPO (恢复点目标) — 在已确定的RTO内，应用数据或文件系统信息必须恢复到某一个时间顺序点 (你能接受丢失多少数据）</p></li></ul>]]></content>
    
    
      
      
    <summary type="html">&lt;h4 id=&quot;存储网络的存储架构&quot;&gt;&lt;a href=&quot;#存储网络的存储架构&quot; class=&quot;headerlink&quot; title=&quot;存储网络的存储架构&quot;&gt;&lt;/a&gt;存储网络的存储架构&lt;/h4&gt;&lt;ul&gt;
&lt;li&gt;DAS：直接附加存储   （Direct Attached Storag</summary>
      
    
    
    
    
  </entry>
  
  <entry>
    <title>服务器基础知识</title>
    <link href="https://limuhuaxia.github.io/2022/10/12/20221012-%E6%9C%8D%E5%8A%A1%E5%99%A8%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/"/>
    <id>https://limuhuaxia.github.io/2022/10/12/20221012-%E6%9C%8D%E5%8A%A1%E5%99%A8%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/</id>
    <published>2022-10-11T16:00:00.000Z</published>
    <updated>2022-11-10T08:56:43.422Z</updated>
    
    <content type="html"><![CDATA[<h4 id="1-什么是服务器"><a href="#1-什么是服务器" class="headerlink" title="1.什么是服务器"></a>1.什么是服务器</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">服务器是计算机的一种，是网络中为客户端计算机提供各种服务的高性能的计算机</span><br></pre></td></tr></table></figure><h4 id="2-服务器按架构分类"><a href="#2-服务器按架构分类" class="headerlink" title="2.服务器按架构分类"></a>2.服务器按架构分类</h4><ul><li>X86架构</li><li>RISC架构服务器</li><li>EPIC架构服务器</li></ul><h4 id="3-服务器按功能应用分类"><a href="#3-服务器按功能应用分类" class="headerlink" title="3.服务器按功能应用分类"></a>3.服务器按功能应用分类</h4><ul><li><p>域控制服务器（Domain Server）</p></li><li><p>文件服务器（File Server）</p></li><li><p>打印服务器（Print Server）</p></li><li><p>数据库服务器（Database Server）</p></li><li><p>邮件服务器（E-mail Server）</p></li><li><p>Web服务器（Web Server）</p></li><li><p>多媒体服务器（Multimedia　Server）</p></li><li><p>通讯服务器（Communication Server）</p></li><li><p>终端服务器（Terminal Server）</p></li><li><p>基础架构服务器（Infrastructure Server）</p></li><li><p>虚拟化服务器（Virtualization Server）</p></li></ul><h4 id="4-服务器按外观分类"><a href="#4-服务器按外观分类" class="headerlink" title="4.服务器按外观分类"></a>4.服务器按外观分类</h4><ul><li><p>塔式（Tower）</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">立式放置的服务器机型；外形以及结构都跟立式PC差不多，但服务器机箱比PC机箱体积更大，Tower机型在外观尺寸上要求没有Rack严格，可预留更多扩展空间。</span><br></pre></td></tr></table></figure></li><li><p>机架式 （Rack）</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">外观尺寸及装配尺寸符合标准尺寸，可以放在标准高度的机架中。高度用“U”来计量， “U”为通用工业机架高度标准；1U＝1.75英寸=44.445mm</span><br></pre></td></tr></table></figure></li><li><p>刀片式服务器（Blade）</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">是一种高可用高密度的低成本服务器平台，是专门为特殊应用行业和高密度计算机环境设计的，其中每一块“刀片”实际上就是一块系统母板，类似于一个个独立的服务器。刀片式服务器目前最适合群集计算和提供互联网服务。</span><br></pre></td></tr></table></figure></li></ul><h4 id="5-服务器与PC机的区别"><a href="#5-服务器与PC机的区别" class="headerlink" title="5.服务器与PC机的区别"></a>5.服务器与PC机的区别</h4><ul><li>处理能力强——CPU的区别</li><li>I/O性能强——内存、硬盘、PCI接口 </li><li>管理能力强——服务器管理监控系统 </li><li>可靠性强——数据保护技术、服务器操作系统  </li><li>可用性高——热插拔、电源技术 </li><li>扩展性强</li></ul><h4 id="6-关键组件-硬盘"><a href="#6-关键组件-硬盘" class="headerlink" title="6.关键组件-硬盘"></a>6.关键组件-硬盘</h4><ul><li>SATA： Serial ATA接口，即串行ATA，采用串行技术以获得更高的传输速度及可靠性。目前是第二代即SATAII。</li><li>SCSI：全称为“Small Computer System Interface”（小型计算机系统接口），具有应用范围广、多任务、带宽大、CPU占用率低，以及热插拔等优点 ，主要应用于中、高端服务器和高档工作站 。</li><li>SAS：Serial Attached SCSI接口，即串行SCSI， 采用串行技术以获得更高的传输速度。目前仍然是第一代。</li><li>SSD：固态存储硬盘(Solid State Disk) 其特别之处在于没有机械结构，以区块写入和抹除的方式作读写的功能，与目前的传统硬盘相较，具有低耗电、耐震、稳定性高、耐低温等优点。</li></ul><h4 id="7-关键组件-RAID"><a href="#7-关键组件-RAID" class="headerlink" title="7.关键组件-RAID"></a>7.关键组件-RAID</h4><ul><li>RAID 0（条带）　</li><li>RAID 1（镜像）　</li><li>RAID 3（奇偶位条带）　</li><li>RAID 10 (镜像条带阵列)　</li><li>RAID 5（分布奇偶位条带）   </li><li>RAID 6 (双分布奇偶位条带)</li></ul><p>​    <img src="https://cdn.jsdelivr.net/gh/limuhuaxia/picgo/img/202210121506131.png" alt="image-20221012150614490"></p><h4 id="8-关键组件介绍——HBA"><a href="#8-关键组件介绍——HBA" class="headerlink" title="8.关键组件介绍——HBA"></a>8.关键组件介绍——HBA</h4><ul><li><p>HBA:即主机总线适配器英文“Host Bus Adapter”缩写。用于服务器、海量存储子网络、外设间通过集线器、交换机和点对点连接进行双向、串行数据通讯。</p></li><li><p>作用是对接外部存储（NAS/SAN）</p></li></ul>]]></content>
    
    
      
      
    <summary type="html">&lt;h4 id=&quot;1-什么是服务器&quot;&gt;&lt;a href=&quot;#1-什么是服务器&quot; class=&quot;headerlink&quot; title=&quot;1.什么是服务器&quot;&gt;&lt;/a&gt;1.什么是服务器&lt;/h4&gt;&lt;figure class=&quot;highlight plaintext&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;t</summary>
      
    
    
    
    
  </entry>
  
  <entry>
    <title>售后工程师日志</title>
    <link href="https://limuhuaxia.github.io/2022/10/08/%E5%94%AE%E5%90%8E%E5%B7%A5%E7%A8%8B%E5%B8%88%E7%9A%84%E7%BB%B4%E4%BF%AE%E6%97%A5%E5%BF%97/"/>
    <id>https://limuhuaxia.github.io/2022/10/08/%E5%94%AE%E5%90%8E%E5%B7%A5%E7%A8%8B%E5%B8%88%E7%9A%84%E7%BB%B4%E4%BF%AE%E6%97%A5%E5%BF%97/</id>
    <published>2022-10-07T16:00:00.000Z</published>
    <updated>2022-11-10T08:55:39.906Z</updated>
    
    <content type="html"><![CDATA[<h2 id="时间：2022-10-8"><a href="#时间：2022-10-8" class="headerlink" title="时间：2022/10/8"></a>时间：2022/10/8</h2><h3 id="一、工作内容"><a href="#一、工作内容" class="headerlink" title="一、工作内容"></a>一、工作内容</h3><p>事件：办公室座式电话打不通，维修电话线</p><h3 id="二、检查排错"><a href="#二、检查排错" class="headerlink" title="二、检查排错"></a>二、检查排错</h3><p>1.使用电话拨通手机，确认情况，发现声音小、听不见，怀疑信号问题</p><p>2.检查线路，发现服务器线路松动断连，使用电工胶布对其进行修复</p><p>3.再次拨打电话，发现问题仍旧存在</p><p>4.更换座机后发现问题解决，确定是座机问题</p><h3 id="三、解决方案"><a href="#三、解决方案" class="headerlink" title="三、解决方案"></a>三、解决方案</h3><p>1.对线路进行维修</p><p>2.建议用户更换座机</p><h3 id="四、总结"><a href="#四、总结" class="headerlink" title="四、总结"></a>四、总结</h3><p>1.从多个方向排除错误</p><p>2.考虑产品本身的问题</p><h2 id="时间：2022-10-9"><a href="#时间：2022-10-9" class="headerlink" title="时间：2022/10/9"></a>时间：2022/10/9</h2><h3 id="一、工作内容-1"><a href="#一、工作内容-1" class="headerlink" title="一、工作内容"></a>一、工作内容</h3><p>1.调试AP，测试宽带，检修网口</p><h3 id="二、检查排错-1"><a href="#二、检查排错-1" class="headerlink" title="二、检查排错"></a>二、检查排错</h3><p>1.AP调试根据客户要求来，做上行和下行的速率测试还有无线漫游</p><p>2.测试装修好的网口是否正常，如果有专业的工具就用工具，没有的话就像我端着个电脑用网线一个个拔插测试（cmd长ping一个IP地址）//例：ping <a href="http://www.baidu.com/">www.baidu.com</a> -t</p><p>3.排查中发现3个接口没有通网络，经检查后发现是三根网线没有接入交换机，接入再次测试正常。</p><p>4.制作RJ45网口（当时我给整忘了，还好记起来了），顺序是<br>$$<br>橙白-橙-绿白-蓝-蓝白-绿-棕白-棕<br>$$<br>要注意的是最后接入的时候是正对金属丝的那面（这个顺序），要注意预留成人半个大拇指的长度插入水晶头，这样线就不会暴露出来了。</p><h3 id="三、解决方案-1"><a href="#三、解决方案-1" class="headerlink" title="三、解决方案"></a>三、解决方案</h3><p>1.AP调试是跟着师傅干的，主要是对AP的一些配置进行更改，具体情况就是连WIFI登录管理平台，改完再测，测完再改。</p><p>2.网口大多是师傅打的，我弄的太慢了（才一个），呜~~</p><p>3.不过网口是我去测的，也没算摸鱼吧（4层楼啊~）</p><h3 id="四、总结-1"><a href="#四、总结-1" class="headerlink" title="四、总结"></a>四、总结</h3><p>1.遇到事情不要慌，不会就问师傅</p><p>2.该干活就干活，不能摸🐟</p><h2 id="时间：2022-10-11"><a href="#时间：2022-10-11" class="headerlink" title="时间：2022/10/11"></a>时间：2022/10/11</h2><h3 id="一、工作内容-2"><a href="#一、工作内容-2" class="headerlink" title="一、工作内容"></a>一、工作内容</h3><p>1.修理LED显示屏</p><h3 id="二、检查排错步骤"><a href="#二、检查排错步骤" class="headerlink" title="二、检查排错步骤"></a>二、检查排错步骤</h3><p>1.先联系管理人员，在这种地方乱闯怕给逮起来</p><p>2.登录管理服务器，查看下线的显示器</p><p>3.发现楼大厅的显示器小盒子（貌似是显示器的操作系统）出问题了。</p><p>4.一楼电梯显示器也换了</p><h3 id="三、解决方法"><a href="#三、解决方法" class="headerlink" title="三、解决方法"></a>三、解决方法</h3><p>1.更换小盒子，实际操作中发现我们所带来的操作系统跟它不一样，那就拔它的盘（系统盘）</p><p>2.直接换掉小盒子</p>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;时间：2022-10-8&quot;&gt;&lt;a href=&quot;#时间：2022-10-8&quot; class=&quot;headerlink&quot; title=&quot;时间：2022/10/8&quot;&gt;&lt;/a&gt;时间：2022/10/8&lt;/h2&gt;&lt;h3 id=&quot;一、工作内容&quot;&gt;&lt;a href=&quot;#一、工作内容&quot;</summary>
      
    
    
    
    
  </entry>
  
  <entry>
    <title>使用Ansible实现自动化运维</title>
    <link href="https://limuhuaxia.github.io/2022/08/24/%E4%BD%BF%E7%94%A8Ansible%E6%9C%8D%E5%8A%A1%E8%BF%90%E7%BB%B4/"/>
    <id>https://limuhuaxia.github.io/2022/08/24/%E4%BD%BF%E7%94%A8Ansible%E6%9C%8D%E5%8A%A1%E8%BF%90%E7%BB%B4/</id>
    <published>2022-08-23T16:00:00.000Z</published>
    <updated>2022-11-10T08:53:55.982Z</updated>
    
    <content type="html"><![CDATA[<h2 id="一、Ansible简介"><a href="#一、Ansible简介" class="headerlink" title="一、Ansible简介"></a>一、Ansible简介</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">一款基于ssh的自动化运维工具，通过调用模块来实现特定的功能</span><br></pre></td></tr></table></figure><h2 id="二、Ansible参数、作用、配置"><a href="#二、Ansible参数、作用、配置" class="headerlink" title="二、Ansible参数、作用、配置"></a>二、Ansible参数、作用、配置</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"># 实验准备</span><br><span class="line">一台控制机，多台节点机，此处为Openeuler</span><br></pre></td></tr></table></figure><p><img src="https://cdn.jsdelivr.net/gh/limuhuaxia/picgo/img/202209091739693.png"></p><h2 id="三、安装配置"><a href="#三、安装配置" class="headerlink" title="三、安装配置"></a>三、安装配置</h2><h4 id="1-控制节点"><a href="#1-控制节点" class="headerlink" title="1.控制节点"></a>1.控制节点</h4><h6 id="安装Ansible"><a href="#安装Ansible" class="headerlink" title="安装Ansible"></a>安装Ansible</h6><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"># 安装ansible，centos需要安装拓展源才能下载，且ansible默认开启</span><br><span class="line">yum install ansible -y</span><br><span class="line"></span><br><span class="line"># 重命名</span><br><span class="line">hostnamectl set-hostname controller</span><br><span class="line">bash</span><br></pre></td></tr></table></figure><h6 id="修改配置文件"><a href="#修改配置文件" class="headerlink" title="修改配置文件"></a>修改配置文件</h6><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"># 修改hosts</span><br><span class="line">192.168.60.11node1</span><br><span class="line">192.168.60.12node2</span><br><span class="line">192.168.60.13node3</span><br><span class="line"></span><br><span class="line"># 建立主机清单</span><br><span class="line">vim /etc/ansible/hosts</span><br><span class="line">[group1]</span><br><span class="line">node3</span><br><span class="line"></span><br><span class="line">[group2]</span><br><span class="line">node1</span><br><span class="line">node2</span><br><span class="line"></span><br><span class="line"># 查看创建的组</span><br><span class="line">ansible-inventory --graph</span><br><span class="line"></span><br></pre></td></tr></table></figure><h6 id="建立无密码SSH"><a href="#建立无密码SSH" class="headerlink" title="建立无密码SSH"></a>建立无密码SSH</h6><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"># 生成密钥，在当前目录下的.ssh目录下</span><br><span class="line">ssh-keygen</span><br><span class="line"></span><br><span class="line"># ssh无密码登录</span><br><span class="line">ssh-copy-id -i ~/.ssh/id_rsa.pub root@node1</span><br><span class="line"></span><br><span class="line"># 实验ping，必须先SSH登录上去，首次登录可能需要密码</span><br><span class="line">ansible all -m ping</span><br><span class="line"></span><br><span class="line"># 清除旧密钥</span><br><span class="line">ssh-keygen -f  &quot;/root/.ssh/known_hosts&quot; -R 192.168.0.1</span><br><span class="line"></span><br><span class="line">其中 -f filename     指定密钥文件名。</span><br><span class="line">-R hostname   从 known_hosts 文件中删除所有属于 hostname 的密钥。</span><br><span class="line"></span><br></pre></td></tr></table></figure><h6 id="Ansible的使用"><a href="#Ansible的使用" class="headerlink" title="Ansible的使用"></a>Ansible的使用</h6><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"># -m -a ，模块、参数</span><br><span class="line">&quot;name=httpd state=present&quot;</span><br><span class="line"></span><br><span class="line"># 自定义</span><br><span class="line"></span><br><span class="line">ansible group2 -m copy -a &quot;src=/root/index.html&quot;</span><br><span class="line"></span><br><span class="line"># 模块的使用</span><br><span class="line">ansible-doc -l</span><br><span class="line">ansible-doc [模块名]</span><br><span class="line"></span><br><span class="line"># 编辑剧本</span><br><span class="line">vim installhttpd.yml</span><br></pre></td></tr></table></figure><h4 id="2-受控节点"><a href="#2-受控节点" class="headerlink" title="2.受控节点"></a>2.受控节点</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"># 重命名</span><br><span class="line">hostnamectl set-hostname node1</span><br><span class="line">bash</span><br><span class="line">hostnamectl set-hostname node2</span><br><span class="line">bash</span><br><span class="line">hostnamectl set-hostname node3</span><br><span class="line">bash</span><br></pre></td></tr></table></figure><h4 id="3-脚本搭建网页（示例）"><a href="#3-脚本搭建网页（示例）" class="headerlink" title="3.脚本搭建网页（示例）"></a>3.脚本搭建网页（示例）</h4><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">---</span></span><br><span class="line"><span class="bullet">-</span> <span class="attr">name:</span> <span class="string">//描述信息，中间有空格</span></span><br><span class="line">  <span class="attr">hosts:</span> <span class="string">all</span><span class="string">//针对的对象</span></span><br><span class="line">  <span class="attr">tasks:</span></span><br><span class="line"> <span class="bullet">-</span> <span class="attr">name:</span></span><br><span class="line">  <span class="attr">yum:</span><span class="string">//使用的模块，yum的作用是安装</span></span><br><span class="line"> <span class="attr">name:</span> <span class="string">httpd</span><span class="string">//注意空一格再写参数，否则不生效</span></span><br><span class="line"> <span class="attr">state:</span> <span class="string">present</span><span class="string">//安装的意思</span></span><br><span class="line"> </span><br><span class="line"> <span class="bullet">-</span> <span class="attr">name:</span></span><br><span class="line">  <span class="attr">service:</span><span class="string">//使用的模块，功能是启动或关闭服务</span></span><br><span class="line"> <span class="attr">name:</span> <span class="string">httpd</span></span><br><span class="line"> <span class="attr">state:</span> <span class="string">started</span></span><br><span class="line"> <span class="attr">enabled:</span> <span class="literal">yes</span></span><br><span class="line"> <span class="bullet">-</span> <span class="attr">name:</span></span><br><span class="line">  <span class="attr">copy:</span></span><br><span class="line"> <span class="attr">src:</span> <span class="string">index.html</span></span><br><span class="line"> <span class="attr">dest:</span> <span class="string">/var/www/html/index.html</span></span><br><span class="line"> </span><br></pre></td></tr></table></figure><h4 id="4-脚本搭建网站（实例）"><a href="#4-脚本搭建网站（实例）" class="headerlink" title="4.脚本搭建网站（实例）"></a>4.脚本搭建网站（实例）</h4><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">---</span></span><br><span class="line"><span class="bullet">-</span> <span class="attr">name:</span> </span><br><span class="line">  <span class="attr">hosts:</span> <span class="string">all</span></span><br><span class="line">  <span class="attr">tasks:</span></span><br><span class="line"> <span class="bullet">-</span> <span class="attr">name:</span></span><br><span class="line">  <span class="attr">yum:</span></span><br><span class="line"> <span class="attr">name:</span> <span class="string">httpd</span></span><br><span class="line"> <span class="attr">state:</span> <span class="string">present</span></span><br><span class="line"> <span class="bullet">-</span> <span class="attr">name:</span></span><br><span class="line">  <span class="attr">service:</span></span><br><span class="line"> <span class="attr">name:</span> <span class="string">httpd</span></span><br><span class="line"> <span class="attr">state:</span> <span class="string">started</span></span><br><span class="line"> <span class="attr">enabled:</span> <span class="literal">yes</span></span><br><span class="line"> <span class="bullet">-</span> <span class="attr">name:</span></span><br><span class="line">  <span class="attr">template:</span></span><br><span class="line">  <span class="attr">src:</span> <span class="string">index.html</span></span><br><span class="line">  <span class="attr">dest:</span> <span class="string">/var/www/html/index.html</span></span><br><span class="line"> <span class="bullet">-</span> <span class="attr">name:</span></span><br><span class="line">   <span class="attr">file:</span></span><br><span class="line">   <span class="attr">path:</span> <span class="string">/var/www/html/index.html</span></span><br><span class="line">   <span class="attr">state:</span> <span class="string">file</span></span><br><span class="line">   <span class="attr">owner:</span> <span class="string">apache</span></span><br><span class="line">   <span class="attr">group:</span> <span class="string">apache</span></span><br><span class="line"><span class="comment"># 使用脚本搭建网页   </span></span><br><span class="line"><span class="string">ansible-playbook</span> <span class="string">installhttp.yml</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 移除安装的软件</span></span><br><span class="line"><span class="string">ansible</span> <span class="string">all</span> <span class="string">-m</span> <span class="string">yum</span> <span class="string">-a</span> <span class="string">&quot;naem=httpd state=remove&quot;</span></span><br></pre></td></tr></table></figure><h4 id="5-普通分区"><a href="#5-普通分区" class="headerlink" title="5.普通分区"></a>5.普通分区</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"># 查看分区</span><br><span class="line">fdisk /dev/sda</span><br><span class="line"></span><br><span class="line"># 创建物理卷</span><br><span class="line">pvcreate /dev/sda1 /dev/sda2</span><br><span class="line"></span><br><span class="line"># 创建卷组</span><br><span class="line">vgcreate data /dev/sda1 /dev/sda2</span><br><span class="line"></span><br><span class="line"># 创建逻辑卷</span><br><span class="line">lvcreate -n wwwroot -L 5G data</span><br><span class="line"></span><br><span class="line"># 扩容</span><br><span class="line">lvextend -L 15G /dev/data/wwwroot</span><br><span class="line"></span><br><span class="line"># 减容</span><br><span class="line">lvreduce -L 10G /dev/data/wwwroot</span><br><span class="line"></span><br><span class="line"># 删除分区</span><br><span class="line">lvremove /dev/data/wwwroot</span><br></pre></td></tr></table></figure><h4 id="6-ansible自动分区"><a href="#6-ansible自动分区" class="headerlink" title="6.ansible自动分区"></a>6.ansible自动分区</h4><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">---</span></span><br><span class="line"><span class="bullet">-</span> <span class="attr">name:</span> <span class="string">创建逻辑卷</span></span><br><span class="line">  <span class="attr">hosts:</span> <span class="string">all</span></span><br><span class="line">  <span class="attr">tasks:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">创建卷组</span></span><br><span class="line">    <span class="attr">lvg:</span></span><br><span class="line">    <span class="attr">vg:</span> <span class="string">data</span></span><br><span class="line">    <span class="attr">pvs:</span> <span class="string">/dev/sda</span></span><br><span class="line">    <span class="attr">pesize:</span> <span class="string">20G</span></span><br><span class="line">  <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">创建逻辑卷ftp</span></span><br><span class="line">    <span class="attr">lvol:</span></span><br><span class="line">    <span class="attr">vg:</span> <span class="string">data</span></span><br><span class="line">    <span class="attr">lv:</span> <span class="string">ftp</span></span><br><span class="line">    <span class="attr">size:</span> <span class="string">10G</span></span><br><span class="line">  <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">创建逻辑卷samba</span></span><br><span class="line">    <span class="attr">lvol:</span></span><br><span class="line">    <span class="attr">vg:</span> <span class="string">data</span></span><br><span class="line">    <span class="attr">lv:</span> <span class="string">samba</span></span><br><span class="line">    <span class="attr">size:</span> <span class="string">10G</span></span><br><span class="line">    </span><br><span class="line">  <span class="bullet">-</span> <span class="attr">name:</span></span><br><span class="line">    <span class="attr">filesystem:</span></span><br><span class="line">    <span class="attr">fstype:</span> <span class="string">ext4</span></span><br><span class="line">    <span class="attr">dev:</span> <span class="string">/dev/data/ftp</span></span><br><span class="line">    </span><br><span class="line">  <span class="bullet">-</span> <span class="attr">name:</span></span><br><span class="line">    <span class="attr">filesystem:</span></span><br><span class="line">    <span class="attr">fstype:</span> <span class="string">ext4</span></span><br><span class="line">    <span class="attr">dev:</span> <span class="string">/dev/data/ftp</span></span><br><span class="line">    </span><br></pre></td></tr></table></figure><h4 id="7-ansible实现LNMP"><a href="#7-ansible实现LNMP" class="headerlink" title="7.ansible实现LNMP"></a>7.ansible实现LNMP</h4><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># LNMP，即Linux、Nginx、Mariadb和PHP，作用是部署网站</span></span><br><span class="line"></span><br><span class="line"><span class="meta">---</span></span><br><span class="line"><span class="bullet">-</span> <span class="attr">name:</span></span><br><span class="line">  <span class="attr">hosts:</span> <span class="string">all</span></span><br><span class="line">  <span class="attr">tasks:</span></span><br><span class="line">          <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">install</span> <span class="string">mariadb</span></span><br><span class="line">            <span class="attr">yum:</span></span><br><span class="line">                   <span class="attr">name:</span> <span class="string">&quot;<span class="template-variable">&#123;&#123; item &#125;&#125;</span>&quot;</span></span><br><span class="line">                   <span class="attr">state:</span> <span class="string">installed</span></span><br><span class="line">            <span class="attr">loop:</span></span><br><span class="line">                  <span class="bullet">-</span> <span class="string">MySQL-python</span></span><br><span class="line">                  <span class="bullet">-</span> <span class="string">mariadb</span></span><br><span class="line">                  <span class="bullet">-</span> <span class="string">mariadb-server</span></span><br><span class="line"></span><br><span class="line">          <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">start</span> <span class="string">mariadb</span></span><br><span class="line">            <span class="attr">service:</span></span><br><span class="line">                   <span class="attr">name:</span> <span class="string">mariadb</span></span><br><span class="line">                   <span class="attr">state:</span> <span class="string">started</span></span><br><span class="line">                   <span class="attr">enabled:</span> <span class="literal">yes</span></span><br><span class="line"></span><br><span class="line">          <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">set_password</span></span><br><span class="line">            <span class="attr">mysql_user:</span></span><br><span class="line">                    <span class="attr">user:</span> <span class="string">root</span></span><br><span class="line">                    <span class="attr">password:</span> <span class="string">&#x27;123456&#x27;</span></span><br><span class="line"></span><br><span class="line">          <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">create_db</span></span><br><span class="line">            <span class="attr">mysql_db:</span></span><br><span class="line">                    <span class="attr">login_user:</span> <span class="string">root</span></span><br><span class="line">                    <span class="attr">login_password:</span> <span class="string">&#x27;123456&#x27;</span></span><br><span class="line">                    <span class="attr">login_host:</span> <span class="string">localhost</span></span><br><span class="line">                    <span class="attr">name:</span> <span class="string">wordpress</span></span><br><span class="line">                    <span class="attr">state:</span> <span class="string">present</span></span><br><span class="line"></span><br><span class="line">          <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">create_user</span></span><br><span class="line">            <span class="attr">mysql_user:</span></span><br><span class="line">                    <span class="attr">login_user:</span> <span class="string">root</span></span><br><span class="line">                    <span class="attr">login_password:</span> <span class="string">&#x27;123456&#x27;</span></span><br><span class="line">                    <span class="attr">name:</span> <span class="string">admin</span></span><br><span class="line">                    <span class="attr">password:</span> <span class="number">123456</span></span><br><span class="line">                    <span class="attr">host:</span> <span class="string">localhost</span></span><br><span class="line">                    <span class="attr">priv:</span> <span class="string">&#x27;*.*:ALL&#x27;</span></span><br><span class="line">                    <span class="attr">state:</span> <span class="string">present</span></span><br><span class="line"></span><br><span class="line">          <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">resart_DB</span></span><br><span class="line">            <span class="attr">service:</span></span><br><span class="line">                    <span class="attr">name:</span> <span class="string">mariadb</span></span><br><span class="line">                    <span class="attr">state:</span> <span class="string">restarted</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Nginx</span></span><br><span class="line"></span><br><span class="line"><span class="meta">---</span></span><br><span class="line"><span class="bullet">-</span> <span class="attr">name:</span></span><br><span class="line">  <span class="attr">hosts:</span> <span class="string">group</span></span><br><span class="line">  <span class="attr">tasks:</span>      </span><br><span class="line">          <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">yuan</span></span><br><span class="line">            <span class="attr">copy:</span> </span><br><span class="line">                <span class="attr">src:</span> <span class="string">/etc/yum.repos.d/epel.repo</span></span><br><span class="line">                <span class="attr">dest:</span> <span class="string">/etc/yum.repos.d/epel.repo</span></span><br><span class="line">                </span><br><span class="line">          <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">清除缓存</span></span><br><span class="line">            <span class="attr">shell:</span> <span class="string">yum</span> <span class="string">clean</span> <span class="string">all</span></span><br><span class="line">            </span><br><span class="line">          <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">生成缓存</span></span><br><span class="line">            <span class="attr">shell:</span> <span class="string">yum</span> <span class="string">makecache</span>     </span><br><span class="line"> </span><br><span class="line">          <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">install</span> <span class="string">nginx</span> </span><br><span class="line">            <span class="attr">shell:</span> <span class="string">yum</span> <span class="string">-y</span> <span class="string">install</span> <span class="string">nginx</span></span><br><span class="line">           </span><br><span class="line">          <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">start</span> <span class="string">nginx</span></span><br><span class="line">            <span class="attr">service:</span></span><br><span class="line">                   <span class="attr">name:</span> <span class="string">nginx</span></span><br><span class="line">                   <span class="attr">state:</span> <span class="string">started</span></span><br><span class="line">                   <span class="attr">enabled:</span> <span class="literal">yes</span></span><br><span class="line">                   </span><br><span class="line">                   </span><br><span class="line"><span class="comment"># PHP</span></span><br><span class="line"></span><br><span class="line">          </span><br><span class="line">          </span><br><span class="line">          </span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;一、Ansible简介&quot;&gt;&lt;a href=&quot;#一、Ansible简介&quot; class=&quot;headerlink&quot; title=&quot;一、Ansible简介&quot;&gt;&lt;/a&gt;一、Ansible简介&lt;/h2&gt;&lt;figure class=&quot;highlight plaintext&quot;&gt;&lt;</summary>
      
    
    
    
    
  </entry>
  
  <entry>
    <title>使用DHCP提供地址分配服务</title>
    <link href="https://limuhuaxia.github.io/2022/08/23/%E4%BD%BF%E7%94%A8DHCP%E6%8F%90%E4%BE%9B%E5%9C%B0%E5%9D%80%E5%88%86%E9%85%8D%E6%9C%8D%E5%8A%A1/"/>
    <id>https://limuhuaxia.github.io/2022/08/23/%E4%BD%BF%E7%94%A8DHCP%E6%8F%90%E4%BE%9B%E5%9C%B0%E5%9D%80%E5%88%86%E9%85%8D%E6%9C%8D%E5%8A%A1/</id>
    <published>2022-08-22T16:00:00.000Z</published>
    <updated>2022-11-10T08:52:46.519Z</updated>
    
    <content type="html"><![CDATA[<h2 id="一、DHCP安装配置"><a href="#一、DHCP安装配置" class="headerlink" title="一、DHCP安装配置"></a>一、DHCP安装配置</h2><h4 id="1-安装配置DHCP"><a href="#1-安装配置DHCP" class="headerlink" title="1.安装配置DHCP"></a>1.安装配置DHCP</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"># 安装DHCP</span><br><span class="line">yum -y install dhcp-sever</span><br><span class="line"></span><br><span class="line"># 编辑DHCP配置文件</span><br><span class="line">vim /etc/dhcp/dhcpd.conf</span><br><span class="line"></span><br><span class="line"># 内容如下</span><br><span class="line">ddns-upadte-style none;</span><br><span class="line">ignore client-updates;</span><br><span class="line">subnet 192.168.60.0 netmask 255.255.255.0 &#123;</span><br><span class="line">range 192.168.60.50 192.168.60.100;</span><br><span class="line">option subnet-mask 255.255.255.0;</span><br><span class="line">option routers 192.168.60.2;</span><br><span class="line">option domain-name-servers 192.168.60.14;</span><br><span class="line">default-lease-time 3600;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"># 启动DHCP，DHCP服务的配置文件为空，只有配置后才能启动</span><br><span class="line">systemctl start dhcpd</span><br><span class="line">systemctl enable dhcpd</span><br></pre></td></tr></table></figure><h4 id="2-测试"><a href="#2-测试" class="headerlink" title="2.测试"></a>2.测试</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"># windows测试</span><br><span class="line">ipconfig /release</span><br><span class="line">ipconfig /renev</span><br><span class="line"></span><br></pre></td></tr></table></figure><h4 id="3-设置MAC地址绑定IP"><a href="#3-设置MAC地址绑定IP" class="headerlink" title="3.设置MAC地址绑定IP"></a>3.设置MAC地址绑定IP</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"># MAC地址绑定IP</span><br><span class="line"></span><br><span class="line">ddns-update-style none;</span><br><span class="line">ignore client-updates;</span><br><span class="line">subnet 192.168.60.0 netmask 255.255.255.0 &#123;</span><br><span class="line">range 192.168.60.50 192.168.60.100;</span><br><span class="line">option subnet-mask 255.255.255.0;</span><br><span class="line">option routers 192.168.60.2;</span><br><span class="line">option domain-name-servers 192.168.60.14;</span><br><span class="line">default-lease-time 3600;</span><br><span class="line">host test &#123;</span><br><span class="line">hardware ethernet 00:0c:29:20:9D:47;</span><br><span class="line">fixed-address 192.168.60.100;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="二、参数及作用"><a href="#二、参数及作用" class="headerlink" title="二、参数及作用"></a>二、参数及作用</h2><p><img src="https://cdn.jsdelivr.net/gh/limuhuaxia/picgo/img/202208231745384.png"></p>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;一、DHCP安装配置&quot;&gt;&lt;a href=&quot;#一、DHCP安装配置&quot; class=&quot;headerlink&quot; title=&quot;一、DHCP安装配置&quot;&gt;&lt;/a&gt;一、DHCP安装配置&lt;/h2&gt;&lt;h4 id=&quot;1-安装配置DHCP&quot;&gt;&lt;a href=&quot;#1-安装配置DHCP&quot;</summary>
      
    
    
    
    
  </entry>
  
  <entry>
    <title>使用BIND提供域名解析服务</title>
    <link href="https://limuhuaxia.github.io/2022/08/22/%E4%BD%BF%E7%94%A8BIND%E6%8F%90%E4%BE%9B%E5%9F%9F%E5%90%8D%E8%A7%A3%E6%9E%90%E6%9C%8D%E5%8A%A1/"/>
    <id>https://limuhuaxia.github.io/2022/08/22/%E4%BD%BF%E7%94%A8BIND%E6%8F%90%E4%BE%9B%E5%9F%9F%E5%90%8D%E8%A7%A3%E6%9E%90%E6%9C%8D%E5%8A%A1/</id>
    <published>2022-08-21T16:00:00.000Z</published>
    <updated>2022-11-10T08:49:08.970Z</updated>
    
    <content type="html"><![CDATA[<h2 id="一、概述"><a href="#一、概述" class="headerlink" title="一、概述"></a>一、概述</h2><h4 id="1-使用场景"><a href="#1-使用场景" class="headerlink" title="1.使用场景"></a>1.使用场景</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"># Linxu、bind、开源、稳定、域名解析</span><br></pre></td></tr></table></figure><h4 id="2-服务器类型"><a href="#2-服务器类型" class="headerlink" title="2.服务器类型"></a>2.服务器类型</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">主服务器</span><br><span class="line">从服务器#主的备份</span><br><span class="line">存储服务器#经常用到的存储下来</span><br></pre></td></tr></table></figure><h4 id="3-实验准备"><a href="#3-实验准备" class="headerlink" title="3.实验准备"></a>3.实验准备</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">#两台台Linux系统，做主从</span><br><span class="line">#一台windows虚拟机做测试</span><br><span class="line">#更改虚拟机命名，以便区分</span><br></pre></td></tr></table></figure><h2 id="二、主服务器安装配置"><a href="#二、主服务器安装配置" class="headerlink" title="二、主服务器安装配置"></a>二、主服务器安装配置</h2><h4 id="1-前置安装"><a href="#1-前置安装" class="headerlink" title="1.前置安装"></a>1.前置安装</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"># 改名</span><br><span class="line">hostnamectl set-hostname Master</span><br><span class="line"></span><br><span class="line"># 安装bind</span><br><span class="line">yum -y install bind-chroot</span><br><span class="line"></span><br><span class="line"># 启动服务(名字就叫这个)</span><br><span class="line">systemctl start named</span><br><span class="line"></span><br><span class="line"># DNS配置文件</span><br><span class="line">-主配置文件: /etc/named.conf</span><br><span class="line">-从配置文件: /etc/named.rfc1912.zones</span><br><span class="line">-数据配置文件:/var/named/...</span><br></pre></td></tr></table></figure><h4 id="2-编辑文件"><a href="#2-编辑文件" class="headerlink" title="2.编辑文件"></a>2.编辑文件</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line"># 编辑主配置文件</span><br><span class="line">vim /etc/named.conf</span><br><span class="line"></span><br><span class="line"># 修改主配置文件</span><br><span class="line">options&#123;</span><br><span class="line">listen-on port 53 &#123;any; &#125;</span><br><span class="line">allow-query &#123;any; &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"># 编辑区域配置文件</span><br><span class="line">vim /etc/named.rfc1912.zones</span><br><span class="line"></span><br><span class="line"># 修改区域配置文件</span><br><span class="line">zone &quot;viik.com&quot; IN &#123;</span><br><span class="line">type master;</span><br><span class="line">file &quot;viik.com.zone&quot;;</span><br><span class="line">allow-update &#123;none; &#125;;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"># 创建文件 </span><br><span class="line">cd /var/named</span><br><span class="line"></span><br><span class="line"># 复制模板文件</span><br><span class="line">cp -a named.localhost viik.com.zone</span><br><span class="line"></span><br><span class="line"># 编辑复制的文件，@为主域，把第二个@改为你设置的域名,注意后面还有个点,再接管理员的邮箱。</span><br><span class="line">@INSQAviik.com. vk.viik.com. (</span><br><span class="line">0;serial</span><br><span class="line">1D;redfresh</span><br><span class="line">1W;expire</span><br><span class="line">3H);minimum</span><br><span class="line">NSns.viik.com.</span><br><span class="line">nsINA192.168.60.10#ns域名解析到另外一个域名解析服务器</span><br><span class="line">www IN  A192.168.60.20</span><br><span class="line">bbs IN A1.1.1.1</span><br><span class="line">blog IN A2.2.2.2#A代表域名解析到IPv4地址（Address）</span><br><span class="line">mail IN CNAMEblog.viik.com#CNAME代表域名解析域名</span><br><span class="line">#MX域名解析到邮件服务器地址</span><br><span class="line">#SRV记录提供特定服务的服务器</span><br><span class="line">#TXT解析到文本内容（一般是邮件服务器的SPF记录，或者是SSL的解析记录）</span><br><span class="line">#CAA代表CA证书机构的授权校验</span><br><span class="line">#显性URL将域名解析到另外一个地址</span><br><span class="line">#隐性URL将域名解析到另外一个地址</span><br><span class="line">AAAA::1#IPv6,用不到可以省去</span><br><span class="line"></span><br><span class="line"># 重启服务器</span><br><span class="line">systemctl restart named</span><br><span class="line"></span><br><span class="line"># windows 测试</span><br><span class="line">nslookup</span><br></pre></td></tr></table></figure><h4 id="3-反向查询"><a href="#3-反向查询" class="headerlink" title="3.反向查询"></a>3.反向查询</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"># 编辑从配置文件(反向查询)</span><br><span class="line">zone &quot;60.168.192.in-addr.arpa&quot; IN &#123;</span><br><span class="line">type master;</span><br><span class="line">file &quot;192.168.60.arpa&quot;;</span><br><span class="line">allow-update &#123; none; &#125;;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"># 创建文件 </span><br><span class="line">cd /var/named</span><br><span class="line"></span><br><span class="line"># 复制模板文件</span><br><span class="line">cp -a named.localhost 192.168.60.arpa</span><br><span class="line"></span><br><span class="line">#创建复制的文件</span><br><span class="line">@INSQAviik.com. vk.viik.com. (</span><br><span class="line">0;serial</span><br><span class="line">1D;redfresh</span><br><span class="line">1W;expire</span><br><span class="line">3H);minimum</span><br><span class="line">NSns.viik.com.</span><br><span class="line">nsA 192.168.60.10</span><br><span class="line">101PTRwww.viik.com.</span><br><span class="line">@PTRviik.com.</span><br></pre></td></tr></table></figure><h2 id="三、设置从服务器"><a href="#三、设置从服务器" class="headerlink" title="三、设置从服务器"></a>三、设置从服务器</h2><p>1.安装准备</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"># 重命名</span><br><span class="line">hostnamectl set-hostname slave</span><br><span class="line"></span><br><span class="line"># 安装bind</span><br><span class="line">yum -y install bind-chroot</span><br><span class="line"></span><br><span class="line"># 开启服务</span><br><span class="line">ststemctl start named</span><br><span class="line"></span><br></pre></td></tr></table></figure><h4 id="2-配置文件"><a href="#2-配置文件" class="headerlink" title="2.配置文件"></a>2.配置文件</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"># 编辑主配置文件</span><br><span class="line">vim /etc/named.conf</span><br><span class="line"></span><br><span class="line"># 修改主配置文件</span><br><span class="line">options&#123;</span><br><span class="line">listen-on port 53 &#123;any; &#125;</span><br><span class="line">allow-query &#123;any; &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">#编辑区域配置文件</span><br><span class="line">vim /etc/named.rfc1912.zones</span><br><span class="line"></span><br><span class="line">#修改区域配置文件</span><br><span class="line">zone &quot;seeker.com&quot; IN &#123;</span><br><span class="line">        type slave;</span><br><span class="line">        masters &#123; 192.168.60.14; &#125;;</span><br><span class="line">        file &quot;slave/seeker.com.zone&quot;;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">zone &quot;60.168.192.in-addr.arpa&quot; IN &#123;</span><br><span class="line">        type slave;</span><br><span class="line">        masters &#123; 192.168.60.14; &#125;;</span><br><span class="line">        file &quot;slave/192.168.60.arpa&quot;;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"># 实验证明</span><br><span class="line">cd /var/named/slaves/</span><br><span class="line">ls 刷新</span><br></pre></td></tr></table></figure><h4 id="3-主从加密"><a href="#3-主从加密" class="headerlink" title="3.主从加密"></a>3.主从加密</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"># 主从加密</span><br><span class="line">@master</span><br><span class="line"></span><br><span class="line"># 生成密钥</span><br><span class="line">dnssec-keygen -a HMAC-MD5 -b 128 -n HOST master-slave</span><br><span class="line"></span><br><span class="line"># 创建密钥文件</span><br><span class="line">cd /var/named/chroot/etc</span><br><span class="line"></span><br><span class="line">#配置文件</span><br><span class="line">vim train.key</span><br><span class="line">key &quot;master-slave&quot; &#123;</span><br><span class="line">algorithm hmac-md5;</span><br><span class="line">secret &quot;私钥&quot;;#cat /创建私钥时的目录下的.privacy文件</span><br><span class="line">&#125;；</span><br><span class="line"></span><br><span class="line"># 赋予权限</span><br><span class="line">chown root:named train.key</span><br><span class="line">chmod 640 train.key</span><br><span class="line"></span><br><span class="line"># 外链到/etc生效</span><br><span class="line">ln -a train.key /etc/trust.key</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"># 编辑主配置文件</span><br><span class="line">include &quot;/etc/train.key&quot;;</span><br><span class="line">allow-transfer&#123; key master-slave; &#125;;</span><br><span class="line"></span><br><span class="line"># 配置从服务器</span><br><span class="line">@slave</span><br><span class="line">scp root@192.168.60.10:/root/train.key </span><br><span class="line"></span><br><span class="line">include &quot;etc/train.key&quot;;</span><br><span class="line">server 192.168.60.14 &#123;</span><br><span class="line">keys &#123; master-slave; &#125;;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"># 赋予权限</span><br><span class="line">chown root:named train.key</span><br><span class="line">chmod 640 train.key</span><br><span class="line"></span><br><span class="line"># 重启</span><br><span class="line">systemctl restart named</span><br><span class="line"></span><br><span class="line"># 检查出错</span><br><span class="line">named-checkconf /etc/named.conf#后面加想要检查的文件的路径</span><br></pre></td></tr></table></figure><h2 id="四、缓存服务器"><a href="#四、缓存服务器" class="headerlink" title="四、缓存服务器"></a>四、缓存服务器</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"># 编辑配置文件</span><br><span class="line">vim /etc/named</span><br><span class="line"></span><br><span class="line">forwarders &#123;114.114.114.114;8.8.8.8&#125;;</span><br><span class="line"></span><br><span class="line">firewall-cmd --permanent --add-service=dns</span><br><span class="line">firewall -cmd --reload</span><br><span class="line"></span><br><span class="line">firewall-cmd --zone=public --query-protocol=icmp</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"># 编辑主配置文件</span><br><span class="line">vim /etc/named.rfc1912.zones</span><br><span class="line"></span><br><span class="line">acl &quot;bj&quot; &#123;172.16.8.0/24;&#125;;</span><br><span class="line">acl &quot;sh&quot; &#123;172.17.8.0/24;&#125;;</span><br><span class="line">view &quot;bj&quot; &#123;</span><br><span class="line">match-clients&#123;&quot;bj&quot;;&#125;;</span><br><span class="line">zone &quot;viik.com&quot;&#123;</span><br><span class="line">type master;</span><br><span class="line">file &quot;viik.com.bj&quot;;</span><br><span class="line">&#125;;</span><br><span class="line">&#125;;</span><br><span class="line">view &quot;sh&quot; &#123;</span><br><span class="line">match-clients&#123;&quot;bj&quot;;&#125;;</span><br><span class="line">zone &quot;viik.com&quot;&#123;</span><br><span class="line">type master;</span><br><span class="line">file &quot;viik.com.sh&quot;;</span><br><span class="line">&#125;;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"># 编辑复制文件</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;一、概述&quot;&gt;&lt;a href=&quot;#一、概述&quot; class=&quot;headerlink&quot; title=&quot;一、概述&quot;&gt;&lt;/a&gt;一、概述&lt;/h2&gt;&lt;h4 id=&quot;1-使用场景&quot;&gt;&lt;a href=&quot;#1-使用场景&quot; class=&quot;headerlink&quot; title=&quot;1.使用场</summary>
      
    
    
    
    
  </entry>
  
  <entry>
    <title>iptables与firewalld防火墙</title>
    <link href="https://limuhuaxia.github.io/2022/08/19/iptables%E4%B8%8Efirewalld%E9%98%B2%E7%81%AB%E5%A2%99/"/>
    <id>https://limuhuaxia.github.io/2022/08/19/iptables%E4%B8%8Efirewalld%E9%98%B2%E7%81%AB%E5%A2%99/</id>
    <published>2022-08-18T16:00:00.000Z</published>
    <updated>2022-11-10T08:48:16.965Z</updated>
    
    <content type="html"><![CDATA[<h2 id="一、基本概述"><a href="#一、基本概述" class="headerlink" title="一、基本概述"></a>一、基本概述</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">在Linux中防火墙有iptables和firewallld两种，这两种类型的防火墙实际只是防火墙的控制软件，并不是真正的防火墙。</span><br><span class="line">其中iptables基于策略和规则链对流量进行拦截，有三个地址，允许（ALLEPT）、拒绝（DROP(主机必定村存在)\REJECT（主机可能不存在））、记录（LOG）。</span><br><span class="line">相较于传统防火墙新增Zeno（区域）概念，trustd\home\internal\work</span><br></pre></td></tr></table></figure><h2 id="二、iptables使用"><a href="#二、iptables使用" class="headerlink" title="二、iptables使用"></a>二、iptables使用</h2><h4 id="1-基本配置方法"><a href="#1-基本配置方法" class="headerlink" title="1.基本配置方法"></a>1.基本配置方法</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"># 查看防火墙策略</span><br><span class="line">iptables -L</span><br><span class="line"></span><br><span class="line"># 恢复默认</span><br><span class="line">iptables -F</span><br><span class="line"></span><br><span class="line"># 拒绝所有入方向的流量</span><br><span class="line">iptables -P INPUT DROP</span><br><span class="line"></span><br><span class="line"># 放行ping</span><br><span class="line">iptables -I input -p icmp -j ACCEPT</span><br><span class="line"></span><br><span class="line"># 放行HTTP服务</span><br><span class="line">iptables -I input -p tcp --dport 80 -j ACCEPT</span><br><span class="line"></span><br><span class="line"># 保存更改</span><br><span class="line">service iptables save/iptables-save</span><br></pre></td></tr></table></figure><h4 id="2-参数及作用"><a href="#2-参数及作用" class="headerlink" title="2.参数及作用"></a>2.参数及作用</h4><p><img src="https://cdn.jsdelivr.net/gh/limuhuaxia/picgo/img/202209091709829.png" alt="image-20220819093005249"></p><h2 id="三、Firewalld使用"><a href="#三、Firewalld使用" class="headerlink" title="三、Firewalld使用"></a>三、Firewalld使用</h2><h4 id="1-查看firewall服务及状态"><a href="#1-查看firewall服务及状态" class="headerlink" title="1.查看firewall服务及状态"></a>1.查看firewall服务及状态</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">1、查看firewall服务状态</span><br><span class="line"></span><br><span class="line">systemctl status firewalld</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">2、查看firewall的状态</span><br><span class="line"></span><br><span class="line">firewall-cmd --state</span><br><span class="line"></span><br><span class="line">3.查看linux哪些程序正在使用互联网</span><br><span class="line"></span><br><span class="line">firewall-cmd --permanent --list-services ssh dhcpv6-clien</span><br></pre></td></tr></table></figure><h4 id="2-开启、关闭、重启、开-关自启firewall-service"><a href="#2-开启、关闭、重启、开-关自启firewall-service" class="headerlink" title="2.开启、关闭、重启、开/关自启firewall.service"></a>2.开启、关闭、重启、开/关自启firewall.service</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"># 开启</span><br><span class="line">systemctl start firewalld </span><br><span class="line"># 重启</span><br><span class="line">systemctl restart firewalld </span><br><span class="line"># 关闭</span><br><span class="line">systemctl stop firewalld </span><br><span class="line"># 开机自启</span><br><span class="line">systemctl enable firewalld</span><br><span class="line"># 关闭开机自启</span><br><span class="line">systemctl disable firewalld</span><br></pre></td></tr></table></figure><h4 id="3-区域的查看、更改和创建"><a href="#3-区域的查看、更改和创建" class="headerlink" title="3.区域的查看、更改和创建"></a>3.区域的查看、更改和创建</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"># 显示支持的区域列表</span><br><span class="line">[root@zcwyou ~]# firewall-cmd --get-zones</span><br><span class="line"></span><br><span class="line"># 列出全部区域启用的特性</span><br><span class="line">[root@zcwyou ~]# firewall-cmd --list-all-zones</span><br><span class="line"></span><br><span class="line"># 显示XX区域详情</span><br><span class="line">[root@zcwyou ~]# firewall-cmd --zone=XX --list-all</span><br><span class="line"></span><br><span class="line"># 查看网卡ens32所属的区域</span><br><span class="line">firewall-cmd --get-zone-of-interface=ens32</span><br><span class="line"></span><br><span class="line"># 查看当前活跃区域</span><br><span class="line">[root@zcwyou ~]# firewall-cmd --get-active-zones</span><br><span class="line"></span><br><span class="line"># 设置XX接口所属区域</span><br><span class="line">[root@zcwyou ~]# firewall-cmd --get-zone-of-interface=XX</span><br><span class="line"></span><br><span class="line"># 查询YY区域中是否包含XX接口</span><br><span class="line">[root@zcwyou ~]# firewall-cmd --zone=YY --query-interface=XX</span><br></pre></td></tr></table></figure><h4 id="4-查看-开放-关闭-端口、服务、协议"><a href="#4-查看-开放-关闭-端口、服务、协议" class="headerlink" title="4.查看/开放/关闭   端口、服务、协议"></a>4.查看/开放/关闭   端口、服务、协议</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"># 查询端口是否开放</span><br><span class="line">firewall-cmd --query-port=8080/tcp</span><br><span class="line"></span><br><span class="line"># 查看服务是否开放</span><br><span class="line">firewall-cmd --zone=external --query-service=http</span><br><span class="line"></span><br><span class="line"># 查看协议是否开放</span><br><span class="line">firewall-cmd --zone=external --query-protocol=icmp </span><br><span class="line"></span><br><span class="line"># 开放80端口</span><br><span class="line">firewall-cmd --permanent --add-port=80/tcp</span><br><span class="line">firewall-cmd --permanent --add-port=8080-8085/tcp</span><br><span class="line"></span><br><span class="line"># 开放服务</span><br><span class="line">firewall-cmd --permanent --zone=external --add-service=http</span><br><span class="line"></span><br><span class="line"># 移除端口</span><br><span class="line">firewall-cmd --permanent --remove-port=8080/tcp</span><br><span class="line"></span><br><span class="line">查看防火墙的开放的端口</span><br><span class="line">firewall-cmd --permanent --list-ports</span><br><span class="line"></span><br><span class="line">#重启防火墙(修改配置后要重启防火墙)</span><br><span class="line">firewall-cmd --reload</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"># 参数解释</span><br><span class="line">1、firwall-cmd：是Linux提供的操作firewall的一个工具;</span><br><span class="line">2、--permanent：表示设置为持久;</span><br><span class="line">3、--add-port：标识添加的端口;</span><br></pre></td></tr></table></figure><h4 id="5-精细化配置"><a href="#5-精细化配置" class="headerlink" title="5.精细化配置"></a>5.精细化配置</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"># 把80端口映射为ssh服务，做隐藏功能使用</span><br><span class="line">firewall-cmd --permanent --zone=external --add-forward-port=port=80:proto=tcp:toport=22:toaddr=192.168.60.10</span><br><span class="line"></span><br><span class="line">#删除要写全</span><br><span class="line">firewall-cmd --permanent --zone=external --remove-forward-port=port=80:proto=tcp:toport=22:toaddr=192.168.60.10</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure><h4 id="6-防火墙区域和默认策略"><a href="#6-防火墙区域和默认策略" class="headerlink" title="6.防火墙区域和默认策略"></a>6.防火墙区域和默认策略</h4><h5 id="1-防火墙策略"><a href="#1-防火墙策略" class="headerlink" title="1.防火墙策略"></a>1.防火墙策略</h5><table><thead><tr><th align="center">区域</th><th align="center">zone</th><th align="center">默认规则策略</th></tr></thead><tbody><tr><td align="center">阻塞区域</td><td align="center">block</td><td align="center">拒绝流入的流量，除非与流出的流量相关</td></tr><tr><td align="center">工作区域</td><td align="center">work</td><td align="center">拒绝流入的流量，除非与流出的流量相关；而如果流量与ssh、ipp-client与dhcpv6-client服务相关，则允许流量</td></tr><tr><td align="center">家庭区域</td><td align="center">home</td><td align="center">拒绝流入的流量，除非与流出的流量相关；而如果流量与ssh、mdns、ipp-client、smba-client、dhcpv6-client服务相关，则允许流量</td></tr><tr><td align="center">公共区域</td><td align="center">public</td><td align="center">拒绝流入的流量，除非与流出的流量相关；而如果流量与ssh、dhcpv6-client服务相关，则允许流量</td></tr><tr><td align="center">隔离区域</td><td align="center">DMZ</td><td align="center">拒绝流入的流量，除非与流出的流量相关；而如果流量与ssh服务相关，则允许流量</td></tr><tr><td align="center">信任区域</td><td align="center">trusted</td><td align="center">允许所有的数据包</td></tr><tr><td align="center">丢弃区域</td><td align="center">drop</td><td align="center">拒绝流入的流量，除非与流出的流量相关</td></tr><tr><td align="center">内部区域</td><td align="center">internal</td><td align="center">等同于home区域</td></tr><tr><td align="center">外部区域</td><td align="center">external</td><td align="center">拒绝流入的流量，除非与流出的流量相关；而如果流量与ssh服务相关，则允许流量</td></tr></tbody></table><h5 id="2-参数和作用"><a href="#2-参数和作用" class="headerlink" title="2.参数和作用"></a>2.参数和作用</h5><table><thead><tr><th align="center"><strong>参数</strong></th><th align="center"><strong>作用</strong></th></tr></thead><tbody><tr><td align="center">–get-default-zone</td><td align="center">查询默认的区域名称</td></tr><tr><td align="center">–set-default-zone=&lt;区域名称&gt;</td><td align="center">设置默认的区域，使其永久生效</td></tr><tr><td align="center">–get-zones</td><td align="center">显示可用的区域</td></tr><tr><td align="center">–get-services</td><td align="center">显示预先定义的服务</td></tr><tr><td align="center">–get-active-zones</td><td align="center">显示当前正在使用的区域与网卡名称</td></tr><tr><td align="center">–add-source=</td><td align="center">将源自此IP或子网的流量导向指定的区域</td></tr><tr><td align="center">–remove-source=</td><td align="center">不再将源自此IP或子网的流量导向某个指定区域</td></tr><tr><td align="center">–add-interface=&lt;网卡名称&gt;</td><td align="center">将源自该网卡的所有流量都导向某个指定区域</td></tr><tr><td align="center">–change-interface=&lt;网卡名称&gt;</td><td align="center">将某个网卡与区域进行关联</td></tr><tr><td align="center">–list-all</td><td align="center">显示当前区域的网卡配置参数、资源、端口以及服务等信息</td></tr><tr><td align="center">–list-all-zones</td><td align="center">显示所有区域的网卡配置参数、资源、端口以及服务等信息</td></tr><tr><td align="center">–add-service=&lt;服务名&gt;</td><td align="center">设置默认区域允许该服务的流量</td></tr><tr><td align="center">–add-port=&lt;端口号/协议&gt;</td><td align="center">设置默认区域允许该端口的流量</td></tr><tr><td align="center">–remove-service=&lt;服务名&gt;</td><td align="center">设置默认区域不再允许该服务的流量</td></tr><tr><td align="center">–remove-port=&lt;端口号/协议&gt;</td><td align="center">设置默认区域不再允许该端口的流量</td></tr><tr><td align="center">–reload</td><td align="center">让“永久生效”的配置规则立即生效，并覆盖当前的配置规则</td></tr><tr><td align="center">–panic-on</td><td align="center">开启应急状况模式</td></tr><tr><td align="center">–panic-off</td><td align="center">关闭应急状况模式</td></tr></tbody></table><h2 id="四、访问控制列表"><a href="#四、访问控制列表" class="headerlink" title="四、访问控制列表"></a>四、访问控制列表</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">/etc/hosts.deny hosts.allow</span><br><span class="line">#8版本以上不支持</span><br></pre></td></tr></table></figure><h2 id="五、cockpit"><a href="#五、cockpit" class="headerlink" title="五、cockpit"></a>五、cockpit</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">cockpit:自动驾驶舱:openeuler自带</span><br><span class="line"># 开启服务</span><br><span class="line">systemctl start cockpit</span><br><span class="line"></span><br><span class="line"># 浏览器输入</span><br><span class="line">http://主机IP/9090</span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;一、基本概述&quot;&gt;&lt;a href=&quot;#一、基本概述&quot; class=&quot;headerlink&quot; title=&quot;一、基本概述&quot;&gt;&lt;/a&gt;一、基本概述&lt;/h2&gt;&lt;figure class=&quot;highlight plaintext&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=</summary>
      
    
    
    
    
  </entry>
  
  <entry>
    <title>使用Samba或NFS实现文件共享</title>
    <link href="https://limuhuaxia.github.io/2022/08/18/%E4%BD%BF%E7%94%A8Samba%E6%88%96NFS%E5%AE%9E%E7%8E%B0%E6%96%87%E4%BB%B6%E5%85%B1%E4%BA%AB/"/>
    <id>https://limuhuaxia.github.io/2022/08/18/%E4%BD%BF%E7%94%A8Samba%E6%88%96NFS%E5%AE%9E%E7%8E%B0%E6%96%87%E4%BB%B6%E5%85%B1%E4%BA%AB/</id>
    <published>2022-08-17T16:00:00.000Z</published>
    <updated>2022-11-10T08:47:34.327Z</updated>
    
    <content type="html"><![CDATA[<h2 id="一、实验准备"><a href="#一、实验准备" class="headerlink" title="一、实验准备"></a>一、实验准备</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">两台Linux虚拟机，最好是centOS</span><br></pre></td></tr></table></figure><h2 id="二、安装samba"><a href="#二、安装samba" class="headerlink" title="二、安装samba"></a>二、安装samba</h2><h4 id="1-虚拟机samba1安装服务端"><a href="#1-虚拟机samba1安装服务端" class="headerlink" title="1.虚拟机samba1安装服务端"></a>1.虚拟机samba1安装服务端</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"># 安装samba</span><br><span class="line">yum -y install samba</span><br><span class="line"></span><br><span class="line"># 安装确认</span><br><span class="line">rpm -qa | grep samba</span><br><span class="line"></span><br><span class="line"># 重启并设置开机自启</span><br><span class="line">systemctl start smb</span><br><span class="line">systemctl enable smb</span><br><span class="line"></span><br><span class="line"># 编辑配置文件</span><br><span class="line">vim /etc/samba/smb.conf</span><br><span class="line"># 具体如下</span><br><span class="line">[global]</span><br><span class="line">workgroup = samba</span><br><span class="line">security = share/user/domain/server#版本不支持share</span><br><span class="line">passdb backend = tdbsam</span><br><span class="line">[data]#这个是别人能看到的文件名[data]</span><br><span class="line">comment = 不要随意删除文件</span><br><span class="line">path = /home/data</span><br><span class="line">public = no#是否公开</span><br><span class="line">writable = yes</span><br><span class="line">valid users =#可用用户</span><br><span class="line">    write list = #可写入的用户列表</span><br><span class="line">    </span><br><span class="line"># 添加共享用户   </span><br><span class="line">useradd -d /var/ftproot -s /sbin/nologin test</span><br><span class="line"></span><br><span class="line">pdbedit -L#列出可用用户</span><br><span class="line"></span><br><span class="line">pdbedit -a#添加可用用户</span><br><span class="line">pdbedit -x  #删除用户</span><br><span class="line"></span><br><span class="line"># 赋予权限</span><br><span class="line">ll -d /home/data</span><br><span class="line">chmod 777  /home/data</span><br></pre></td></tr></table></figure><h4 id="2-虚拟机samba2安装客户端"><a href="#2-虚拟机samba2安装客户端" class="headerlink" title="2.虚拟机samba2安装客户端"></a>2.虚拟机samba2安装客户端</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"># 安装samba客户端</span><br><span class="line">yum -y install samba-client</span><br><span class="line"></span><br><span class="line"># 登录测试</span><br><span class="line">smbclient -U zhangsan -L 192.168.60.200</span><br><span class="line"></span><br><span class="line"># 安装组件</span><br><span class="line">yum install -y cifs-utils#centos 自带</span><br><span class="line"></span><br><span class="line"># 挂载共享目录</span><br><span class="line">mount -t cifs -o username=zhngsan,password=toor //192.168.60.10/data /root/data </span><br></pre></td></tr></table></figure><h4 id="3、参数及其作用"><a href="#3、参数及其作用" class="headerlink" title="3、参数及其作用"></a>3、参数及其作用</h4><p><img src="F:/boke/blogger/blog/blogs/themes/Butterfly/image/image-20220818091928447.png" alt="image-20220818091928447"></p><p><img src="F:/boke/blogger/blog/blogs/themes/Butterfly/image/image-20220818100326153.png" alt="image-20220818100326153"></p><h2 id="三、TFTP的部署和使用"><a href="#三、TFTP的部署和使用" class="headerlink" title="三、TFTP的部署和使用"></a>三、TFTP的部署和使用</h2><h4 id="1-安装部署TFTP"><a href="#1-安装部署TFTP" class="headerlink" title="1.安装部署TFTP"></a>1.安装部署TFTP</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">yum -y install tftp-server xinetd #服务端、客户端、控制管理</span><br><span class="line"></span><br><span class="line">vim /etc/xinetd.d/tftp</span><br><span class="line"></span><br><span class="line">service tftp</span><br><span class="line">&#123;     socket_type            =dgram</span><br><span class="line">       protocol                   =udp</span><br><span class="line">       wait                       =yes</span><br><span class="line">       user                       =root</span><br><span class="line">       server                     =/usr/sbin/in.tftpd</span><br><span class="line">       server_args                =-s  /home/xt/tftpboot -c#-c表示给予上传权限</span><br><span class="line">       disable                    =no#为yes时表示不启用tftp</span><br><span class="line">       per_source                 =11</span><br><span class="line">       cps                        =100 2</span><br><span class="line">       flags                      =IPv4</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">cd /var/lib/tftpboot</span><br><span class="line"></span><br><span class="line">chmod 777 tftpboot/</span><br><span class="line"></span><br><span class="line">systemctl start xinetd</span><br></pre></td></tr></table></figure><h4 id="2-安装客户端"><a href="#2-安装客户端" class="headerlink" title="2.安装客户端"></a>2.安装客户端</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">yum -y install tftp</span><br><span class="line"> </span><br><span class="line">tftp 192.168.60.200</span><br><span class="line"></span><br><span class="line">put#上传</span><br><span class="line">get#下载</span><br></pre></td></tr></table></figure><h2 id="四、NFS的部署和使用"><a href="#四、NFS的部署和使用" class="headerlink" title="四、NFS的部署和使用"></a>四、NFS的部署和使用</h2><h4 id="1-服务端"><a href="#1-服务端" class="headerlink" title="1.服务端"></a>1.服务端</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">Linux 系统默认已安装</span><br><span class="line">PS:openeuler不支持</span><br><span class="line">yum -y install nfs-utils rpcbind</span><br><span class="line">rpm -qa nfs-utils rpcbind#检测是否安装rpcbind，nfs依赖此远程功能</span><br><span class="line">rpcbind-0.2.0-49.el7.x86_64</span><br><span class="line">nfs-utils-1.3.0-0.68.el7.2.x86_64</span><br><span class="line"></span><br><span class="line">vim /etc/exports#配置文件</span><br><span class="line"></span><br><span class="line">/home/data 192.168.60.*(rw,root_squash,sync)</span><br><span class="line"></span><br><span class="line">systemctl start rpcbind.service</span><br><span class="line">systemctl start nfs-server.service</span><br><span class="line"></span><br><span class="line">showmount -e localhost#查询nfs进程</span><br><span class="line">showmount -a#显示状态</span><br><span class="line">showmount -v#查询版本</span><br></pre></td></tr></table></figure><h4 id="2-客户端"><a href="#2-客户端" class="headerlink" title="2.客户端"></a>2.客户端</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">yum install -y nfs-utils</span><br><span class="line"></span><br><span class="line">mount -t nfs 192.168.60.200:/home/data /home/data</span><br></pre></td></tr></table></figure><h4 id="3-参数及作用"><a href="#3-参数及作用" class="headerlink" title="3.参数及作用"></a>3.参数及作用</h4><p><img src="F:/boke/blogger/blog/blogs/themes/Butterfly/image/image-20220818115125441.png" alt="image-20220818115125441"></p>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;一、实验准备&quot;&gt;&lt;a href=&quot;#一、实验准备&quot; class=&quot;headerlink&quot; title=&quot;一、实验准备&quot;&gt;&lt;/a&gt;一、实验准备&lt;/h2&gt;&lt;figure class=&quot;highlight plaintext&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=</summary>
      
    
    
    
    
  </entry>
  
  <entry>
    <title>使用vsftpd服务传输文件</title>
    <link href="https://limuhuaxia.github.io/2022/08/17/%E4%BD%BF%E7%94%A8vsftpd%E6%9C%8D%E5%8A%A1%E4%BC%A0%E8%BE%93%E6%96%87%E4%BB%B6/"/>
    <id>https://limuhuaxia.github.io/2022/08/17/%E4%BD%BF%E7%94%A8vsftpd%E6%9C%8D%E5%8A%A1%E4%BC%A0%E8%BE%93%E6%96%87%E4%BB%B6/</id>
    <published>2022-08-16T16:00:00.000Z</published>
    <updated>2022-11-10T08:46:48.836Z</updated>
    
    <content type="html"><![CDATA[<h2 id="一、安装FTP"><a href="#一、安装FTP" class="headerlink" title="一、安装FTP"></a>一、安装FTP</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"># 安装FTP</span><br><span class="line">yum -y install vsftpd</span><br><span class="line"></span><br><span class="line"># 启动并设置开机自启</span><br><span class="line">systemctl start vsftpd</span><br><span class="line">systemctl enable vsftpd</span><br></pre></td></tr></table></figure><h2 id="二、配置FTP"><a href="#二、配置FTP" class="headerlink" title="二、配置FTP"></a>二、配置FTP</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"># 先备份再过滤文件</span><br><span class="line">/etc/vsftpd/vsftp.conf</span><br><span class="line">cp vsftpd.conf&#123;,.back&#125;</span><br><span class="line"></span><br><span class="line"># 过滤注释</span><br><span class="line">cat vsftpd.conf.back | grep -v &quot;#&quot; &gt; vsftpd.conf</span><br></pre></td></tr></table></figure><p><img src="https://cdn.jsdelivr.net/gh/limuhuaxia/picgo/img/202208171540051.png" alt="image-20220817093057717"></p><h2 id="三、匿名用户访问"><a href="#三、匿名用户访问" class="headerlink" title="三、匿名用户访问"></a>三、匿名用户访问</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"># 匿名用户访问需要配置</span><br><span class="line">anonymous_enable=YES</span><br><span class="line">anon_upload_enable=YES</span><br><span class="line">anon_umask=022</span><br><span class="line">anon_mkdir_write_enable=YES</span><br><span class="line">anon_other_write_enable=YES</span><br><span class="line"></span><br><span class="line"># 记得重启</span><br><span class="line">systemctl restart vsftpd</span><br><span class="line"></span><br><span class="line"># 赋予权限</span><br><span class="line">chmod 777 -R pub#权限提升</span><br></pre></td></tr></table></figure><h2 id="四、本地用户访问"><a href="#四、本地用户访问" class="headerlink" title="四、本地用户访问"></a>四、本地用户访问</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">默认禁止root使用FTP，创建一个普通用户即可，本地用户默认可以登录</span><br></pre></td></tr></table></figure><h2 id="五、虚拟用户访问"><a href="#五、虚拟用户访问" class="headerlink" title="五、虚拟用户访问"></a>五、虚拟用户访问</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"># 创建用户virtual，指定用户的家目录为/var/ftproot，指定用户的shell为不可登录</span><br><span class="line">useradd -d /var/ftproot -s /sbin/nologin virtual </span><br><span class="line"></span><br><span class="line"># 建立虚拟用户列表，规定奇数行为用户，偶数行为密码</span><br><span class="line">vim /etc/vsftpd/vuser.list  </span><br><span class="line"></span><br><span class="line">#对其进行加密</span><br><span class="line">db_load -T -t hash -f vuser.list vuser.db </span><br><span class="line"></span><br><span class="line"># 为了安全删除原文件</span><br><span class="line">rm -fr vuser.list </span><br><span class="line"># 为安全只允许创建文件者访问该文件</span><br><span class="line">chmod 600 -R vuser.db</span><br><span class="line"></span><br><span class="line">#创建一个认证文件，写下如下配置</span><br><span class="line">vim /etc/pam.d/vsftpd.vu</span><br><span class="line">authrequired pam_userdb.so db=/etc/vsftpd/vuser</span><br><span class="line">accountrequiredpam_userdb.so db=/etc/vsftpd/vuser</span><br><span class="line"></span><br><span class="line"># 编辑配置文件如下</span><br><span class="line">guest_enable=YES#允许虚拟用户登录</span><br><span class="line">guest_username=virtual#填写创建的本地用户</span><br><span class="line">allow_writeable_chroot=YES#允许读写</span><br><span class="line">user_config_dir=/etc/vsftpd/vuser_dir#指定虚拟用户的配置文件</span><br><span class="line">pam_service_name=vsftpd.vu#虚拟用户认证文件</span><br></pre></td></tr></table></figure><h2 id="六、虚拟用户权限配置"><a href="#六、虚拟用户权限配置" class="headerlink" title="六、虚拟用户权限配置"></a>六、虚拟用户权限配置</h2><h4 id="1-权限架构配置"><a href="#1-权限架构配置" class="headerlink" title="1.权限架构配置"></a>1.权限架构配置</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">cd /etc/vsftpd</span><br><span class="line">mkdir vuser_dir</span><br><span class="line">touch zhangsan lisi</span><br><span class="line"></span><br><span class="line">mkdir -p  /mnt/share/ftpadmin0&#123;1..3&#125; #示例，创建3个用户的上传目录</span><br><span class="line"></span><br><span class="line">mkdir -p  /mnt/share/zhansan</span><br><span class="line">mkdir -p  /mnt/share/lisi</span><br><span class="line"></span><br><span class="line">chown virtual:virtual  /mnt/share/zhangsan</span><br><span class="line">chown virtual:virtual  /mnt/share/lisi</span><br><span class="line"></span><br><span class="line">systemctl restart vsftpd</span><br></pre></td></tr></table></figure><h4 id="2-分别配置用户权限"><a href="#2-分别配置用户权限" class="headerlink" title="2.分别配置用户权限"></a>2.分别配置用户权限</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">#zhangsan 只能上传</span><br><span class="line">vim /etc/vsftpd/vuser_dir/zhangsan</span><br><span class="line"></span><br><span class="line">local_root=/mnt/share/zhangsan</span><br><span class="line"> write_enable=YES</span><br><span class="line"> download_enable=NO</span><br><span class="line"> anon_umask=022</span><br><span class="line"> anon_world_readable_only=NO（关闭只可读权限）</span><br><span class="line"> anon_upload_enable=YES（上传）</span><br><span class="line"> anon_mkdir_write_enable=NO（创建目录权限）</span><br><span class="line"> anon_other_write_enable=NO（其他写权限，改，删）（此行改为NO后，便没有了删除权限，其他权限不变）</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">#lisi只能下载</span><br><span class="line">vim /etc/vsftpd/vuser_dir/lisi</span><br><span class="line"> local_root=/mnt/share/lisi</span><br><span class="line">   write_enable=YES</span><br><span class="line">   anon_umask=022</span><br><span class="line">   anon_world_readable_only=NO</span><br><span class="line">   anon_upload_enable=NO</span><br><span class="line">   anon_other_write_enable=YES</span><br><span class="line">   </span><br><span class="line">   </span><br><span class="line">  write_enable=YES</span><br><span class="line">anon_world_readable_only=NO</span><br><span class="line">download_enable=YES</span><br><span class="line">anon_upload_enable=YES</span><br><span class="line">anon_mkdir_write_enable=YES</span><br><span class="line">anon_other_write_enable=YES</span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;一、安装FTP&quot;&gt;&lt;a href=&quot;#一、安装FTP&quot; class=&quot;headerlink&quot; title=&quot;一、安装FTP&quot;&gt;&lt;/a&gt;一、安装FTP&lt;/h2&gt;&lt;figure class=&quot;highlight plaintext&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td cl</summary>
      
    
    
    
    
  </entry>
  
  <entry>
    <title>LNMP动态网站搭建</title>
    <link href="https://limuhuaxia.github.io/2022/08/16/LNMP%E5%8A%A8%E6%80%81%E7%BD%91%E7%AB%99%E6%90%AD%E5%BB%BA/"/>
    <id>https://limuhuaxia.github.io/2022/08/16/LNMP%E5%8A%A8%E6%80%81%E7%BD%91%E7%AB%99%E6%90%AD%E5%BB%BA/</id>
    <published>2022-08-15T16:00:00.000Z</published>
    <updated>2022-11-10T08:45:44.173Z</updated>
    
    <content type="html"><![CDATA[<h2 id="一、安装nginx"><a href="#一、安装nginx" class="headerlink" title="一、安装nginx"></a>一、安装nginx</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"># dnf==优化的yum</span><br><span class="line">dnf install nginx -y  </span><br><span class="line"></span><br><span class="line"># 开机并自启</span><br><span class="line">systemctl start nginx</span><br><span class="line">systemctl enable nginx</span><br><span class="line"></span><br><span class="line"># 一键部署LNMP（非常慢）</span><br><span class="line">wget http://soft.vpser.net/lnmp/lnmp1.9.tar.gz -cO lnmp1.9.tar.gz &amp;&amp; tar zxf lnmp1.9.tar.gz &amp;&amp; cd lnmp1.9 &amp;&amp; ./install.sh lnmp</span><br></pre></td></tr></table></figure><h2 id="二、安装数据库"><a href="#二、安装数据库" class="headerlink" title="二、安装数据库"></a>二、安装数据库</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"># 安装mariadb数据库</span><br><span class="line">yum -y install mariadb mariadb-server</span><br><span class="line"></span><br><span class="line"># 重启并设置开机自启</span><br><span class="line">systemctl start mariadb</span><br><span class="line">systemctl enable mariadb</span><br><span class="line"></span><br><span class="line"># 数据库初始化</span><br><span class="line">mysql_secure_installation</span><br></pre></td></tr></table></figure><h2 id="三、安装PHP"><a href="#三、安装PHP" class="headerlink" title="三、安装PHP"></a>三、安装PHP</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"># 安装网站需要的PHP环境（一班网页基于PHP写的），不晓得需求的组件就安装全部</span><br><span class="line">dnf -y install php*</span><br><span class="line"></span><br><span class="line"># 开机并自启</span><br><span class="line">systemctl start php-fpm</span><br><span class="line">systemctl enable php-fpm</span><br></pre></td></tr></table></figure><h2 id="四、修改Nginx的配置文件"><a href="#四、修改Nginx的配置文件" class="headerlink" title="四、修改Nginx的配置文件"></a>四、修改Nginx的配置文件</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"># 配置文件目录</span><br><span class="line">vim /etc/nginx/nginx.conf</span><br><span class="line"># 站点目录</span><br><span class="line"></span><br><span class="line"># ‘/’此处表示根路径，即/usr/share/nginx/html/</span><br><span class="line">server&#123;</span><br><span class="line">root: /var/www/html</span><br><span class="line">&#125;</span><br><span class="line">location / &#123;</span><br><span class="line">index index.php index.html index.htm;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"># 修改配置文件重启生效</span><br><span class="line">systemactl restart nginx</span><br></pre></td></tr></table></figure><h2 id="五、下载PHP网站代码并安装插件"><a href="#五、下载PHP网站代码并安装插件" class="headerlink" title="五、下载PHP网站代码并安装插件"></a>五、下载PHP网站代码并安装插件</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"># 安装解压和上传的组件</span><br><span class="line">yum -y install unzip</span><br><span class="line">yum -y install lrzsz</span><br><span class="line"></span><br><span class="line"># 命令行输入如下回车（第三方连接软件里（CRT））</span><br><span class="line">rz #在cn.wordpress.org下载好word press上传到/var/www/html 下</span><br><span class="line"></span><br><span class="line"># 将wordpress目录下的文件复制上来，以便直接输入IP就能访问</span><br><span class="line">cp -r wordpress/* ./   #把wordpress目录下的文件移动到当前目录</span><br><span class="line">chown  apache:apache -R ./  #将当前目录下的东西归属给apache</span><br><span class="line">chmod 755 -R ./ #权限提升</span><br></pre></td></tr></table></figure><h2 id="六、数据库创建和用户添加"><a href="#六、数据库创建和用户添加" class="headerlink" title="六、数据库创建和用户添加"></a>六、数据库创建和用户添加</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">mysql -uroot -p #回车输入密码</span><br><span class="line"></span><br><span class="line">create database wordpress; #创建数据库</span><br><span class="line"></span><br><span class="line">create user wordpress@localhost identified by &#x27;123456&#x27;; #创建用户和密码</span><br><span class="line"></span><br><span class="line">grant all privileges on wordpress.* to wordpress@localhost;#赋予权限</span><br><span class="line"></span><br><span class="line">flush privileges;#刷新权限</span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;一、安装nginx&quot;&gt;&lt;a href=&quot;#一、安装nginx&quot; class=&quot;headerlink&quot; title=&quot;一、安装nginx&quot;&gt;&lt;/a&gt;一、安装nginx&lt;/h2&gt;&lt;figure class=&quot;highlight plaintext&quot;&gt;&lt;table&gt;&lt;t</summary>
      
    
    
    
    
  </entry>
  
  <entry>
    <title>使用MariaDB数据库管理系统</title>
    <link href="https://limuhuaxia.github.io/2022/08/16/%E4%BD%BF%E7%94%A8MariaDB%E6%95%B0%E6%8D%AE%E5%BA%93%E7%AE%A1%E7%90%86%E7%B3%BB%E7%BB%9F/"/>
    <id>https://limuhuaxia.github.io/2022/08/16/%E4%BD%BF%E7%94%A8MariaDB%E6%95%B0%E6%8D%AE%E5%BA%93%E7%AE%A1%E7%90%86%E7%B3%BB%E7%BB%9F/</id>
    <published>2022-08-15T16:00:00.000Z</published>
    <updated>2022-11-10T08:44:36.833Z</updated>
    
    <content type="html"><![CDATA[<h2 id="一、创建安装数据库"><a href="#一、创建安装数据库" class="headerlink" title="一、创建安装数据库"></a>一、创建安装数据库</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">首先得有个linux系统</span><br><span class="line">yum -y install mariadb mariadb-server #安装Mariadb客户端和服务端</span><br><span class="line"></span><br><span class="line">rpm -q mariadb-server#检测是否安装成功</span><br><span class="line"></span><br><span class="line">systemctal start mariadb#开启服务</span><br><span class="line"></span><br><span class="line">systemctal enable mariadb#开机自启</span><br></pre></td></tr></table></figure><h2 id="二、设置数据库"><a href="#二、设置数据库" class="headerlink" title="二、设置数据库"></a>二、设置数据库</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">mysql_secure_installation #配置数据库，只需填写密码，其它都Y,mysql和MariaDB的创始人是同一个</span><br><span class="line"></span><br><span class="line">mysql -uroot -p #输入刚才的密码回车</span><br><span class="line"></span><br><span class="line">show databases;</span><br></pre></td></tr></table></figure><h2 id="三、备份和还原数据库"><a href="#三、备份和还原数据库" class="headerlink" title="三、备份和还原数据库"></a>三、备份和还原数据库</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">mysqldump -uroot -p mysql &gt; /root/admin.sql #Linux系统下使用</span><br><span class="line"></span><br><span class="line">mysql -uroot -p admin &lt; /root/mysql.sql</span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;一、创建安装数据库&quot;&gt;&lt;a href=&quot;#一、创建安装数据库&quot; class=&quot;headerlink&quot; title=&quot;一、创建安装数据库&quot;&gt;&lt;/a&gt;一、创建安装数据库&lt;/h2&gt;&lt;figure class=&quot;highlight plaintext&quot;&gt;&lt;table&gt;&lt;t</summary>
      
    
    
    
    
  </entry>
  
  <entry>
    <title>openeuler系统Apache服务部署静态网站</title>
    <link href="https://limuhuaxia.github.io/2022/08/15/openeuler%E7%B3%BB%E7%BB%9FApache%E6%9C%8D%E5%8A%A1%E9%83%A8%E7%BD%B2%E9%9D%99%E6%80%81%E7%BD%91%E7%AB%99/"/>
    <id>https://limuhuaxia.github.io/2022/08/15/openeuler%E7%B3%BB%E7%BB%9FApache%E6%9C%8D%E5%8A%A1%E9%83%A8%E7%BD%B2%E9%9D%99%E6%80%81%E7%BD%91%E7%AB%99/</id>
    <published>2022-08-14T16:00:00.000Z</published>
    <updated>2022-11-10T08:43:38.497Z</updated>
    
    <content type="html"><![CDATA[<h2 id="一、安装openeuler系统"><a href="#一、安装openeuler系统" class="headerlink" title="一、安装openeuler系统"></a>一、安装openeuler系统</h2><h4 id="1-镜像下载"><a href="#1-镜像下载" class="headerlink" title="1.镜像下载"></a>1.镜像下载</h4><p>官方下载：<a href="https://repo.openeuler.org/">https://repo.openeuler.org/</a></p><p>此处使用：<a href="https://repo.openeuler.org/openEuler-21.09/ISO/x86_64/openEuler-21.09-x86_64-dvd.iso">openEuler-21.09-x86_64-dvd.iso</a></p><h4 id="2-vm-ware安装openeuler"><a href="#2-vm-ware安装openeuler" class="headerlink" title="2.vm ware安装openeuler"></a>2.vm ware安装openeuler</h4><p>1.欧拉系统基于Linux 5.10内核构建的，版本选择‘其它Linux5.x或更高版本内核’</p><p>2.欧拉系统(官方)没有图形化界面，所以安装时选择最小化即可，在其右侧选择standard(标准版)</p><p>PS:标准版是指vim、wget、net-tools等软件一起</p><p>3.华为的密码，懂得都懂，安全嘛（大小写+数字+特殊字符）</p><h2 id="二、基础配置"><a href="#二、基础配置" class="headerlink" title="二、基础配置"></a>二、基础配置</h2><h4 id="1-配置网卡"><a href="#1-配置网卡" class="headerlink" title="1.配置网卡"></a>1.配置网卡</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">nmtui#网卡图形界面</span><br><span class="line"></span><br><span class="line">nmcli connection modify [网卡名称] ipv4.address [ip] ipv4.gateway [ip] ipv4.method manual ip.dns [ip] #配置网卡信息</span><br><span class="line"></span><br><span class="line">nmcli connection down/up [网卡名称] #开启关闭网卡服务</span><br></pre></td></tr></table></figure><h4 id="2-关闭防火墙"><a href="#2-关闭防火墙" class="headerlink" title="2.关闭防火墙"></a>2.关闭防火墙</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">systemctl stop firewalld.service #关闭防火墙</span><br><span class="line">systemctl disable firewalld.service #关闭防火墙开启重启</span><br></pre></td></tr></table></figure><h4 id="3-关闭selinux"><a href="#3-关闭selinux" class="headerlink" title="3.关闭selinux"></a>3.关闭selinux</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">vim /etc/selinux/config</span><br><span class="line"></span><br><span class="line">将enforcing改为disabled</span><br></pre></td></tr></table></figure><h4 id="4-换源-可不做，openeuler在香港，网速实测海星"><a href="#4-换源-可不做，openeuler在香港，网速实测海星" class="headerlink" title="4.换源(可不做，openeuler在香港，网速实测海星)"></a>4.换源(可不做，openeuler在香港，网速实测海星)</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">sed -i &quot;s@http://repo.openeuler.org/openEuler-21.09/@https://mirrors.aliyun.com/openeuler/openEuler-20.09/@g&quot;  /etc/yum.repos.d/openEuler.repo</span><br><span class="line"></span><br><span class="line">yum clean all #清除缓存</span><br><span class="line">yum makecache #重新生成缓存</span><br></pre></td></tr></table></figure><h2 id="三、安装Apache服务"><a href="#三、安装Apache服务" class="headerlink" title="三、安装Apache服务"></a>三、安装Apache服务</h2><h4 id="1-Apache相关文件目录"><a href="#1-Apache相关文件目录" class="headerlink" title="1.Apache相关文件目录"></a>1.Apache相关文件目录</h4><p><img src="https://cdn.jsdelivr.net/gh/limuhuaxia/picgo/img/202208151700054.png" alt="image-20220815102438289"></p><h4 id="2-安装Apache服务"><a href="#2-安装Apache服务" class="headerlink" title="2.安装Apache服务"></a>2.安装Apache服务</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">yum -y install httpd</span><br><span class="line"></span><br><span class="line">systemctl start httpd</span><br><span class="line">systemctl enable httpd</span><br></pre></td></tr></table></figure><h4 id="3-安装lrzsz"><a href="#3-安装lrzsz" class="headerlink" title="3.安装lrzsz"></a>3.安装lrzsz</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">yum -y install lrzsz</span><br><span class="line"></span><br><span class="line">rz #上传文件</span><br></pre></td></tr></table></figure><h4 id="4-更改配置文件"><a href="#4-更改配置文件" class="headerlink" title="4.更改配置文件"></a>4.更改配置文件</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">vim /etc/httpd/conf.d/userdir.conf </span><br><span class="line">将UserDir disabled用#号注释掉</span><br><span class="line">启用UserDir public_html</span><br><span class="line"></span><br><span class="line">apachectl configtest   #Apache提供检测配置是否出错的命令</span><br><span class="line">systemctl restart httpd#每次修改配置文件后都要重启服务</span><br></pre></td></tr></table></figure><h4 id="5-添加用户并授权"><a href="#5-添加用户并授权" class="headerlink" title="5.添加用户并授权"></a>5.添加用户并授权</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">useradd zhangsan </span><br><span class="line">chmod 755 -R /zhangsan #在home目录下使用</span><br></pre></td></tr></table></figure><h4 id="6-用户认证"><a href="#6-用户认证" class="headerlink" title="6.用户认证"></a>6.用户认证</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">vim /etc/httpd/conf.d/userdir.conf      #修改配置文件，配置文件如下，修改后查错重启服务 </span><br><span class="line"></span><br><span class="line">&lt;Directory &quot;/home/*/public_html&quot;&gt;</span><br><span class="line">    AllowOverride all</span><br><span class="line">    authuserfile &quot;/etc/httpd/passwd&quot;</span><br><span class="line">    authname &quot;user is &quot;</span><br><span class="line">    authtype basic</span><br><span class="line">    Require user zhang3</span><br><span class="line">&lt;/Directory&gt;</span><br></pre></td></tr></table></figure><h4 id="7-使用IP、端口、主机名访问HTML"><a href="#7-使用IP、端口、主机名访问HTML" class="headerlink" title="7.使用IP、端口、主机名访问HTML"></a>7.使用IP、端口、主机名访问HTML</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">vim /var/www/html/</span><br><span class="line">mkdir 6401 6402 6403</span><br><span class="line">vim index.html #在上面目录下各创建一个，随便写点啥，做测试</span><br><span class="line"></span><br><span class="line">vim /etc/httpd/conf/httpd.conf</span><br><span class="line">#使用端口</span><br><span class="line">&lt;VirtualHost 192.168.64.10:6401 &gt;</span><br><span class="line">        DocumentRoot /var/www/html/6401</span><br><span class="line">        ServerName www.baidu.com</span><br><span class="line">         &lt;Directory /var/www/html/6401&gt;</span><br><span class="line">         AllowOverride None</span><br><span class="line">         Require all granted</span><br><span class="line">         &lt;/Directory&gt;</span><br><span class="line">&lt;/VirtualHost&gt;</span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;一、安装openeuler系统&quot;&gt;&lt;a href=&quot;#一、安装openeuler系统&quot; class=&quot;headerlink&quot; title=&quot;一、安装openeuler系统&quot;&gt;&lt;/a&gt;一、安装openeuler系统&lt;/h2&gt;&lt;h4 id=&quot;1-镜像下载&quot;&gt;&lt;a hr</summary>
      
    
    
    
    
  </entry>
  
  <entry>
    <title>open stack的实例创建</title>
    <link href="https://limuhuaxia.github.io/2022/08/11/open-stack%E7%9A%84%E5%AE%9E%E4%BE%8B%E5%88%9B%E5%BB%BA/"/>
    <id>https://limuhuaxia.github.io/2022/08/11/open-stack%E7%9A%84%E5%AE%9E%E4%BE%8B%E5%88%9B%E5%BB%BA/</id>
    <published>2022-08-11T08:12:45.000Z</published>
    <updated>2022-11-10T08:42:52.914Z</updated>
    
    <content type="html"><![CDATA[<h2 id="一、环境需求"><a href="#一、环境需求" class="headerlink" title="一、环境需求"></a>一、环境需求</h2><p>提前部署好的open stack环境</p><p>内存：至少8G</p><p>磁盘：100G</p><h2 id="二、实例配置"><a href="#二、实例配置" class="headerlink" title="二、实例配置"></a>二、实例配置</h2><p>1.网络配置</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">#外部网络</span><br><span class="line">名称：随便，认得出就行</span><br><span class="line">用户：admin</span><br><span class="line">物理网络：extnet #跟随安装文件</span><br><span class="line">选择外部网络</span><br><span class="line">子网：跟随VM网卡网段</span><br><span class="line"></span><br><span class="line">#内部网络</span><br><span class="line">名称：随便</span><br><span class="line">用户：admin</span><br><span class="line">子网：私网网段</span><br></pre></td></tr></table></figure><p>2.路由配置</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">建议使用图形化配置</span><br></pre></td></tr></table></figure><p>3.镜像上传</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">首先登入openstack</span><br><span class="line">source keystonerc admin</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">建议使用命令行配置（会快一点）</span><br><span class="line">使用SecureCRT的SecureFX拖拽进去就行</span><br><span class="line"></span><br><span class="line">qemu-img info [镜像名] #解析镜像格式</span><br><span class="line">openstack image create [创建名字] -file [镜像准确位置] -disk-format [镜像格式]  #创建可用镜像供实例使用</span><br><span class="line">openstack image list #查看镜像</span><br></pre></td></tr></table></figure><p>4.浮动IP</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">创建关联，建议图形化</span><br></pre></td></tr></table></figure><p>5.安全组</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">创建关联，在实例——&gt;编辑安全组</span><br></pre></td></tr></table></figure><p>6.创建实例</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">选择必选，其它默认</span><br><span class="line">查看虚拟机状态</span><br><span class="line">nova list</span><br></pre></td></tr></table></figure><p>7.创建实例规格</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">查看规格</span><br><span class="line">openstack flavor list</span><br><span class="line">创建规格</span><br><span class="line">openstack flavorcreate [名字] -am [内存大小] -disk [磁盘大小] --VCPUS [CPU大小] -id [ID]</span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;一、环境需求&quot;&gt;&lt;a href=&quot;#一、环境需求&quot; class=&quot;headerlink&quot; title=&quot;一、环境需求&quot;&gt;&lt;/a&gt;一、环境需求&lt;/h2&gt;&lt;p&gt;提前部署好的open stack环境&lt;/p&gt;
&lt;p&gt;内存：至少8G&lt;/p&gt;
&lt;p&gt;磁盘：100G&lt;/p&gt;
&lt;</summary>
      
    
    
    
    
    <category term="-open stack -云计算" scheme="https://limuhuaxia.github.io/tags/open-stack-%E4%BA%91%E8%AE%A1%E7%AE%97/"/>
    
  </entry>
  
  <entry>
    <title>open stack的部署</title>
    <link href="https://limuhuaxia.github.io/2022/08/11/OpenStack%E7%9A%84%E5%AE%89%E8%A3%85%E5%A7%BF%E5%8A%BF/"/>
    <id>https://limuhuaxia.github.io/2022/08/11/OpenStack%E7%9A%84%E5%AE%89%E8%A3%85%E5%A7%BF%E5%8A%BF/</id>
    <published>2022-08-11T08:10:55.000Z</published>
    <updated>2022-11-10T08:42:13.677Z</updated>
    
    <content type="html"><![CDATA[<h2 id="一、实验准备"><a href="#一、实验准备" class="headerlink" title="一、实验准备"></a>一、实验准备</h2><p>VM ware Workstation  15/15.5/16</p><p>镜像：CentOS-7-x86_64-DVD-2009</p><p>实验环境：CentOS 7</p><p>open stack版本：train</p><p>时间：一天（大概）</p><h2 id="二、实验配置"><a href="#二、实验配置" class="headerlink" title="二、实验配置"></a>二、实验配置</h2><p>1.创建虚拟机</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">内存：8G  //最少这个数</span><br><span class="line">磁盘：100G</span><br><span class="line">时区：中国</span><br><span class="line">安装：最小化</span><br><span class="line">分区：自动</span><br></pre></td></tr></table></figure><p>2.关闭防火墙</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">systemctl stop firewalld   #防止后续网络测试被防火墙拦截</span><br><span class="line">systemctl disable firewalld</span><br></pre></td></tr></table></figure><p>3.关闭seLinux</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sed -i &#x27;s#SELINUX=enforcing#SELINUX=disabled#g&#x27; /etc/selinux/config #与open stack冲突</span><br><span class="line">grep -n &#x27;SELINUX=&#x27;  /etc/selinux/config</span><br></pre></td></tr></table></figure><p>4.关闭网络管理器</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">systemctl stop NetworkManager #理由同上</span><br><span class="line">systemctl disable NetworkManager</span><br></pre></td></tr></table></figure><p>5.网卡备份和重命名</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">cd /etc/sysconfig/network-scriprs</span><br><span class="line">cp ifcfg-ens32 ifcfg-ens32.back#备份网卡</span><br><span class="line">mv ifcfg-eno32 ifcfg-eth0     #重命名</span><br></pre></td></tr></table></figure><p>6.修改网卡</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">TYPE=Ethernet#只要这些，纯手打</span><br><span class="line">BOOTPROTO=static   </span><br><span class="line">NAME=eth0</span><br><span class="line">DEVICE=eth0</span><br><span class="line">ONBOOT=yes</span><br><span class="line">IPADDR=10.0.0.6</span><br><span class="line">NETMASK=255.255.255.0</span><br><span class="line">GATEWAY=10.0.0.2</span><br><span class="line">DNS1=114.114.114.114</span><br></pre></td></tr></table></figure><p>7.修改引导</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">vi /etc/default/grub</span><br><span class="line"></span><br><span class="line">在GRUB_CMDLINE_LINUX中添加“net.ifnames=0 biosdevname=0”</span><br><span class="line">测试，ping百度能不能ping通，不能就是DNS出错</span><br><span class="line"></span><br><span class="line">grub2-mkconfig -o /boot/grub2/grub.cfg  #重新引导网络配置文件</span><br><span class="line">#重启使用ip -a命令查看网卡</span><br></pre></td></tr></table></figure><p><img src="https://cdn.jsdelivr.net/gh/limuhuaxia/picgo/img/202208111607107.png" alt="image-20220811160715137"></p><p>8.以上操作事项完成后给虚拟机打上快照，并链接克隆一台虚拟机重命名为controller</p><p>9.重命名系统及修改hosts文件</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">hostnamectl set hostname controller</span><br><span class="line"></span><br><span class="line">vi /etc/hosts</span><br><span class="line"></span><br><span class="line"># controller</span><br><span class="line">10.0.0.11    controller  #单节点只需要写这一条</span><br><span class="line"></span><br><span class="line"># compute</span><br><span class="line">10.0.0.12    compute</span><br><span class="line"></span><br><span class="line">修改为ping一下主机名能不能ping通</span><br><span class="line"></span><br><span class="line">此处应有一份快照</span><br></pre></td></tr></table></figure><p>10.更换阿里源</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">cd /etc/yum.repos.d</span><br><span class="line">rm -fr *#删除yum源</span><br><span class="line">curl -o /etc/yum.repos.d/CentOS-Base.repo https://mirrors.aliyun.com/repo/Centos-7.repo #载入阿里镜像源</span><br><span class="line">yum clean all#清除</span><br><span class="line">yum makecache#更新</span><br></pre></td></tr></table></figure><p>11.下载软件包</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum install -y vim net-tools wget bash-completion#安装vim，net-tools，wget，tab补全</span><br></pre></td></tr></table></figure><p>12.安装源</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wget -O /etc/yum.repos.d/epel.repo https://mirrors.aliyun.com/repo/epel-7.repo</span><br></pre></td></tr></table></figure><p>13.安装RDO</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum install -y https://repos.fedorapeople.org/repos/openstack/openstack-train/rdo-release-train-1.noarch.rpm</span><br></pre></td></tr></table></figure><p>14.修改RDO源</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">vim /etc/yum.repos.d/rdo-release.repo</span><br><span class="line"></span><br><span class="line">#以下为配置文件</span><br><span class="line">[openstack-train]</span><br><span class="line">name=OpenStack Train Repository</span><br><span class="line">baseurl=https://mirrors.aliyun.com/centos/7/cloud/$basearch/openstack-train/</span><br><span class="line">#mirrorlist=http://mirrorlist.centos.org/?release=7&amp;arch=$basearch&amp;repo=cloud-openstack-train</span><br><span class="line">gpgcheck=1</span><br><span class="line">enabled=1</span><br><span class="line">gpgkey=file:///etc/pki/rpm-gpg/RPM-GPG-KEY-CentOS-SIG-Cloud</span><br></pre></td></tr></table></figure><p>15.安装open stack软件包</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum install -y openstack-packstack</span><br></pre></td></tr></table></figure><p>16.生成配置文件</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">packstack --gen-answer-file=openstack.ini </span><br></pre></td></tr></table></figure><p>17.修改open stack配置文件</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">vim /root/openstack.ini</span><br><span class="line">如下图配置</span><br></pre></td></tr></table></figure><p><img src="https://cdn.jsdelivr.net/gh/limuhuaxia/picgo/img/202208110918719.png" alt="image-20220811091824355"></p><p><img src="https://cdn.jsdelivr.net/gh/limuhuaxia/picgo/img/202208110919228.png" alt="image-20220811091908343"></p><p><img src="https://cdn.jsdelivr.net/gh/limuhuaxia/picgo/img/202208110919147.png" alt="image-20220811091921441"></p><p>末尾添加</p><p><img src="https://cdn.jsdelivr.net/gh/limuhuaxia/picgo/img/202208110919261.png" alt="image-20220811091950158"></p><p>18.安装open stack</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">packstack --answer-file=/root/openstack.ini</span><br></pre></td></tr></table></figure><h2 id="三、遇到的报错及解决方案"><a href="#三、遇到的报错及解决方案" class="headerlink" title="三、遇到的报错及解决方案"></a>三、遇到的报错及解决方案</h2><p>leatherman错误</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum downgrade leatherman #看需求的安装包版本</span><br></pre></td></tr></table></figure><p>python错误</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum install python2-qpid-proton-0.26.0-2.el7.x86_64 #安装就行了</span><br></pre></td></tr></table></figure><h2 id="四、实验结果"><a href="#四、实验结果" class="headerlink" title="四、实验结果"></a>四、实验结果</h2><p><img src="https://cdn.jsdelivr.net/gh/limuhuaxia/picgo/img/202208111610869.png" alt="image-20220811161018181"></p>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;一、实验准备&quot;&gt;&lt;a href=&quot;#一、实验准备&quot; class=&quot;headerlink&quot; title=&quot;一、实验准备&quot;&gt;&lt;/a&gt;一、实验准备&lt;/h2&gt;&lt;p&gt;VM ware Workstation  15/15.5/16&lt;/p&gt;
&lt;p&gt;镜像：CentOS-7-x86</summary>
      
    
    
    
    
    <category term="-云计算 -open stack" scheme="https://limuhuaxia.github.io/tags/%E4%BA%91%E8%AE%A1%E7%AE%97-open-stack/"/>
    
  </entry>
  
  <entry>
    <title>AC内漫游-隧道模式</title>
    <link href="https://limuhuaxia.github.io/2022/07/28/AC%E5%86%85%E6%BC%AB%E6%B8%B8%E9%9A%A7%E9%81%93%E6%A8%A1%E5%BC%8F/"/>
    <id>https://limuhuaxia.github.io/2022/07/28/AC%E5%86%85%E6%BC%AB%E6%B8%B8%E9%9A%A7%E9%81%93%E6%A8%A1%E5%BC%8F/</id>
    <published>2022-07-27T16:00:00.000Z</published>
    <updated>2022-11-10T08:41:06.182Z</updated>
    
    <content type="html"><![CDATA[<h1 id="WLAN-AC内漫游"><a href="#WLAN-AC内漫游" class="headerlink" title="WLAN-AC内漫游"></a>WLAN-AC内漫游</h1><h2 id="第一题"><a href="#第一题" class="headerlink" title="第一题"></a>第一题</h2><h4 id="如图所示，网段与VLAN都已经规划完毕，请配置出AC内的漫游（三层漫游-隧道转发），并截图粘贴出业务不中断的验证结果截图。"><a href="#如图所示，网段与VLAN都已经规划完毕，请配置出AC内的漫游（三层漫游-隧道转发），并截图粘贴出业务不中断的验证结果截图。" class="headerlink" title="如图所示，网段与VLAN都已经规划完毕，请配置出AC内的漫游（三层漫游-隧道转发），并截图粘贴出业务不中断的验证结果截图。"></a>如图所示，网段与VLAN都已经规划完毕，请配置出AC内的漫游（三层漫游-隧道转发），并截图粘贴出业务不中断的验证结果截图。</h4><p><img src="https://cdn.jsdelivr.net/gh/limuhuaxia/picgo/img/202207280906380.jpg" alt="img"></p><h4 id="拓扑"><a href="#拓扑" class="headerlink" title="拓扑"></a>拓扑</h4><p><img src="https://cdn.jsdelivr.net/gh/limuhuaxia/picgo/img/202207280916437.png" alt="image-20220728091558380"></p><h4 id="AC"><a href="#AC" class="headerlink" title="AC"></a>AC</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br></pre></td><td class="code"><pre><span class="line">sysname AC</span><br><span class="line"></span><br><span class="line">vlan batch 10 20 200</span><br><span class="line"></span><br><span class="line">dhcp enable</span><br><span class="line"></span><br><span class="line">ip pool vlan100</span><br><span class="line"> gateway-list 10.1.100.254 </span><br><span class="line"> network 10.1.100.0 mask 255.255.255.0 </span><br><span class="line"> option 43 sub-option 3 ascii 10.1.200.2 </span><br><span class="line"></span><br><span class="line">interface Vlanif10</span><br><span class="line"> ip address 10.1.10.1 255.255.255.0</span><br><span class="line"> dhcp select relay</span><br><span class="line"> dhcp relay server-ip 10.1.200.1</span><br><span class="line"></span><br><span class="line">interface Vlanif20</span><br><span class="line"> ip address 10.1.20.1 255.255.255.0</span><br><span class="line"> dhcp select relay</span><br><span class="line"> dhcp relay server-ip 10.1.200.1</span><br><span class="line"></span><br><span class="line">interface Vlanif200</span><br><span class="line"> ip address 10.1.200.2 255.255.255.0</span><br><span class="line"> dhcp select global</span><br><span class="line"></span><br><span class="line">interface GigabitEthernet0/0/1</span><br><span class="line"> port link-type trunk</span><br><span class="line"> port trunk allow-pass vlan 200</span><br><span class="line"></span><br><span class="line">ip route-static 0.0.0.0 0.0.0.0 10.1.200.1</span><br><span class="line"></span><br><span class="line">capwap source interface vlanif200  #AP上线</span><br><span class="line"></span><br><span class="line">wlan</span><br><span class="line"> security-profile name wifi</span><br><span class="line">  security wpa-wpa2 psk pass-phrase %^%#K%Pu7xaP$ZL%p-M$HbBDexbO0CcWk5&lt;&lt;$\&amp;+qI7&amp;</span><br><span class="line">%^%# aes</span><br><span class="line"></span><br><span class="line"> ssid-profile name wifi</span><br><span class="line">  ssid huawei</span><br><span class="line">  </span><br><span class="line"> vap-profile name wifill</span><br><span class="line">  forward-mode tunnel</span><br><span class="line">  service-vlan vlan-id 10</span><br><span class="line">  ssid-profile wifi</span><br><span class="line">  security-profile wifi</span><br><span class="line">  </span><br><span class="line"> vap-profile name wifing</span><br><span class="line">  forward-mode tunnel</span><br><span class="line">  service-vlan vlan-id 20</span><br><span class="line">  ssid-profile wifi</span><br><span class="line">  security-profile wifi</span><br><span class="line">  </span><br><span class="line"> ap-group name wone</span><br><span class="line">  regulatory-domain-profile wifi</span><br><span class="line">  radio 0</span><br><span class="line">   vap-profile wifill wlan 1</span><br><span class="line">  radio 1</span><br><span class="line">   vap-profile wifill wlan 1</span><br><span class="line">   </span><br><span class="line"> ap-group name wtwo</span><br><span class="line">  regulatory-domain-profile wifi</span><br><span class="line">  radio 0</span><br><span class="line">   vap-profile wifing wlan 2</span><br><span class="line">  radio 1</span><br><span class="line">   vap-profile wifing wlan 2</span><br><span class="line"> </span><br><span class="line"> ap-id 0 type-id 60 ap-mac 00e0-fca7-7320 ap-sn 210235448310924FA701</span><br><span class="line">  ap-name AP1</span><br><span class="line">  ap-group wone</span><br><span class="line">  </span><br><span class="line"> ap-id 1 type-id 60 ap-mac 00e0-fc98-4180 ap-sn 210235448310026C8204</span><br><span class="line">  ap-name AP2</span><br><span class="line">  ap-group wtwo</span><br></pre></td></tr></table></figure><h4 id="SW1"><a href="#SW1" class="headerlink" title="SW1"></a>SW1</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line">sysname SW1</span><br><span class="line"></span><br><span class="line">vlan batch 10 20 40 100 200</span><br><span class="line"></span><br><span class="line">dhcp enable</span><br><span class="line"></span><br><span class="line">ip pool vlan10</span><br><span class="line"> gateway-list 10.1.10.1</span><br><span class="line"> network 10.1.10.0 mask 255.255.255.0</span><br><span class="line"></span><br><span class="line">ip pool vlan20</span><br><span class="line"> gateway-list 10.1.20.1</span><br><span class="line"> network 10.1.20.0 mask 255.255.255.0</span><br><span class="line"></span><br><span class="line">interface Vlanif10</span><br><span class="line"> dhcp select global</span><br><span class="line"></span><br><span class="line">interface Vlanif20</span><br><span class="line"> dhcp select global</span><br><span class="line"></span><br><span class="line">interface Vlanif40</span><br><span class="line"> ip address 10.1.40.1 255.255.255.0</span><br><span class="line"></span><br><span class="line">interface Vlanif100</span><br><span class="line"> ip address 10.1.100.254 255.255.255.0</span><br><span class="line"> dhcp select relay</span><br><span class="line"> dhcp relay server-ip 10.1.200.2</span><br><span class="line"></span><br><span class="line">interface Vlanif200</span><br><span class="line"> ip address 10.1.200.1 255.255.255.0</span><br><span class="line"> dhcp select global</span><br><span class="line"></span><br><span class="line">interface GigabitEthernet0/0/1</span><br><span class="line"> port link-type access</span><br><span class="line"> port default vlan 40</span><br><span class="line"></span><br><span class="line">interface GigabitEthernet0/0/2</span><br><span class="line"> port link-type trunk</span><br><span class="line"> port trunk allow-pass vlan 200</span><br><span class="line"></span><br><span class="line">interface GigabitEthernet0/0/3</span><br><span class="line"> port link-type trunk</span><br><span class="line"> port trunk allow-pass vlan 10 20 100</span><br><span class="line"></span><br><span class="line">ip route-static 10.1.10.0 255.255.255.0 10.1.200.2</span><br><span class="line">ip route-static 10.1.20.0 255.255.255.0 10.1.200.2</span><br><span class="line">ip route-static 10.1.200.2 255.255.255.255 10.1.200.2</span><br></pre></td></tr></table></figure><h4 id="SW2"><a href="#SW2" class="headerlink" title="SW2"></a>SW2</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">sysname SW2</span><br><span class="line"></span><br><span class="line">vlan batch 100 </span><br><span class="line"></span><br><span class="line">interface Ethernet0/0/1</span><br><span class="line"> port link-type trunk</span><br><span class="line"> port trunk allow-pass vlan 100</span><br><span class="line"></span><br><span class="line">interface Ethernet0/0/2</span><br><span class="line"> port link-type trunk</span><br><span class="line"> port trunk pvid vlan 100</span><br><span class="line"> port trunk allow-pass vlan 100</span><br><span class="line"> port-isolate enable group 1</span><br><span class="line"></span><br><span class="line">interface Ethernet0/0/3</span><br><span class="line"> port link-type trunk</span><br><span class="line"> port trunk pvid vlan 100</span><br><span class="line"> port trunk allow-pass vlan 100</span><br><span class="line"> port-isolate enable group 1</span><br></pre></td></tr></table></figure><h4 id="AR1"><a href="#AR1" class="headerlink" title="AR1"></a>AR1</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">sysname AR1</span><br><span class="line"></span><br><span class="line">vlan batch 40</span><br><span class="line"></span><br><span class="line">int g0/0/0</span><br><span class="line"> ip ad 10.1.40.2 24</span><br><span class="line"> </span><br><span class="line">ip route-static 0.0.0.0 0 10.1.40.1</span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;WLAN-AC内漫游&quot;&gt;&lt;a href=&quot;#WLAN-AC内漫游&quot; class=&quot;headerlink&quot; title=&quot;WLAN-AC内漫游&quot;&gt;&lt;/a&gt;WLAN-AC内漫游&lt;/h1&gt;&lt;h2 id=&quot;第一题&quot;&gt;&lt;a href=&quot;#第一题&quot; class=&quot;header</summary>
      
    
    
    
    
  </entry>
  
</feed>
